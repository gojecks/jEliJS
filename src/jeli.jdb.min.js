(function(){
/*@license jElijs
Author : Gojecks Joseph
License : GNU-2
Version 0.10.0*/
"use strict";function stringToObject(a,b){var c,d=a.split(""),e={};d.pop(),d.shift(),d=d.join("").split(",");for(c in d){var f=d[c].split(":"),g=$modelSetterGetter(f[1],b)||f[1];e[f[0]]=g}return e}function watchBinding(){var a={};this.$get=function(b,c){return a[b]||c||[]},this.$new=function(b,c){a[b]=c},this.$remove=function(b){a[b]&&delete a[b]},this.$push=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},this.$getAll=function(){return a}}function $isObject(a){return"object"==typeof a&&a instanceof Object&&"[object Object]"===Object.prototype.toString.call(a)}function $isString(a){return"string"==typeof a&&new String(a)instanceof String}function $isJsonString(a){return a&&"{"===a.split("")[0]&&"}"===a.split("")[a.split("").length-1]}function $isEmptyObject(a){return!$isObject(a)&&!$countObject(a)}function $isNumber(a){return Number(a)===a&&a%1===0}function $isFloat(a){return Number(a)===a&&a%1!==0}function $isDouble(a){return parseFloat(a)>0}function $isArray(a){return"[object Array]"===Object.prototype.toString.call(a)}function $isFunction(a){return"function"==typeof a}function $countObject(a){return Object.keys(a)}function $isUndefined(a){return"undefined"==typeof a}function $isDefined(a){return"undefined"!=typeof a}function $isNull(a){return null===a}function $isEmpty(a){return""===a}function $isEqual(a,b){return a===b}function $inArray(a,b){return b.indexOf(a)>-1}function serialize(a){if(!$isUndefined(a)){var b=[],c=function(a,b){if($isArray(b))domElementProvider.each(b,function(b,e){/\[\]$/.test(a)?d(a,e):c(a+"["+($isObject(e)?a:"")+"]",e)});else if($isObject(b))for(var e in b)c(a+"["+e+"]",b[e]);else d(a,b)},d=function(a,c){c=$isFunction(c)?c():$isEmpty(c)?"":c,b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if($isArray(a)&&$isObject(a))domElementProvider.each(a,function(a,b){d(a,b)});else for(var e in a)c(e,a[e]);return b.join("&").replace(/%20/g,"+")}}function unSerialize(a){var b={};if(!$isUndefined(a)){var c,d=a.split("&");for(c in d){var e=d[c].split("=");b[e[0]]=e[1]}}return b}function makeUID(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}function getUID(){return"$$ele:"+$eUID++}function parseJSON(a){return $isString(a)&&a?(a=trim(a),$isSupport.jsonParser?JSON.parse(JSON.stringify(a)):new Function("return "+a)()):null}function parseXML(a){if($isSupport.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b}function extend(a,b,c){if(a=a||{},!$isUndefined(c))return extend(extend(a,b),c);for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a}function errorBuilder(a){throw new Error(a)}function camelCase(){return this.replace(/^([A-Z])|[\s-_](\w)/g,function(a,b,c,d){return c?c.toUpperCase():b.toLowerCase()})}function deleteAndReStructure(a,b){var c=[],d=0;if($isArray(a))for(;d<a.length;d++)d!==b&&c.push(a[d]);return c}function findInList(a){var b,c=!1;for(var d in this)b=a(d,this[d]),b&&(c=b);return c}function domElementLoop(a,b){for(var c=a.length-1,d=0;c>=d;){var e=b(a[d],d);if(e===!1)break;d++}}function $removeWhiteSpace(a){return(a||"").replace(/\s+/g,"")}function removeSingleQuote(a){return $isBooleanValue.indexOf(a)>-1||$isUndefined(a)?a:a.replace(/[']/g,"")}function $remArrayWhiteSpace(a,b){var c=[];return a&&a.length&&a.filter(function(a,d){a&&c.push(b?b(a):$removeWhiteSpace(a))}),c}function $remLastWhiteSpace(a){return $isEqual(a.slice(a.length-1)," ")?a.slice(0,a.length-1):a}function matchScopeObject(a,b){var c=!1;for(var d in a)$isUndefined(b)||b.indexOf(a[d])>-1&&(c=a[d]);return c}function isArrayType(a,b){if(expect(a).contains("[")){for(var c=a.split("["),d=c.length;d--;){var e=expect(c[d]).contains("]")?c[d].split("]")[0]:c[d];c[d]=$isObject(b[e])?e:b[e]}return function(a,d){var e=c[c.length-1],f=matchStringWithArray(c.join("."),b,a);return d?void(f[e]=removeSingleQuote(d)):f[e]}}return!1}function matchStringWithArray(a,b,c){var d,e=$removeWhiteSpace(a).split("."),f=b,g=function(){var a,b,c=!1;return b=isArrayKey.exec(e[d]),b&&b.length&&f&&(a=e[d].split("[")[0],f=f[a][b[1]],c=!0),c};for(d=0;d<e.length-1;d++)g()||(f=createNewInstance(f,e[d],c));return f}function createNewInstance(a,b,c){return c&&!a[b]&&(a[b]={}),a&&a[b]||{}}function setModelValue(a,b,c){var d=$removeWhiteSpace(a).split(".").pop(),e=matchStringWithArray(a,b);if(!$isUndefined(c)&&e){var f=isArrayKey.exec(d),g=isArrayType(d,b);if(f&&f.length){var h=f[0].split("[")[0];e.hasOwnProperty(h)||(e[h]=[]),e[h][+f[1]]=removeSingleQuote(c)}else g?g(!0,c):e[d]=removeSingleQuote(c)}return c}function $modelSetterGetter(a,b,c){var d=$removeWhiteSpace(a).split("."),e=d.pop(),f=matchStringWithArray(a,b,c),g=isArrayKey.exec(e);if(g&&g.length&&f){var h=e.split("[")[0];return f.hasOwnProperty(h)?f[h][+g[1]]:""}var i=isArrayType(a,b);return i?i():$isUndefined(f)?"":f[e]}function simpleBooleanParser(a){switch(a){case!0:case"true":case 1:case"1":case"yes":case"on":return!0;case"false":case!1:case"0":case 0:case"off":case"no":return!1;default:return}}function simpleArgumentParser(a,b){if(a)return isNaN(parseInt(a))?simpleBooleanParser(a)||a:parseInt(a)}function $logicChecker(a,b,c){function d(a,b){var c=[];if(b[a]&&b)for(var d=b[parseInt(a)+2].split(","),e=0;e<d.length;)c.push(simpleArgumentParser(d[e++]));return c}if($isBooleanValue.indexOf(a)>-1)return simpleBooleanParser(a);var e=$removeWhiteSpace(a).split(/([|()=<>!*+\/\/&-])/gi);for(var f in e)if(e[f].match(/[a-zA-Z]/gi)){var g=maskedEval(e[f],b);if($isFunction(g)){var h=d(f,e);e.splice(parseInt(f)+1,3),g=g.apply(g,h)}else($isObject(g)||$isArray(g))&&(g=!0);($isNull(g)||$isUndefined(g))&&(g=!1),e[f]=$isString(g)?"'"+g+"'":g}return maskedEval(e.join(""))}function maskedEval(a,b){if(!b){var c={};for(p in this)c[p]=void 0}return new Function("with(this) { try{ return "+a+" }catch(e){ return undefined; } }").call(b||c)}function execFnByName(a,b,c,d){var a=$removeWhiteSpace(a),e=a.split("."),f=e.pop(),g=f.match(/^(?:.*?)\((.*?)\)/),h=f.match(/^(.*?)\(.*?\)/),i=a.split(/([=])/gi),j=[];if(!(i.length>1)){if(null!==g){g=g[1].split(",");for(var k=0;k<g.length;k++)if("$event"===g[k])j.push(d);else{var l=maskedEval(g[k],b);j.push($isUndefined(l)?simpleArgumentParser(g[k]):l)}}if(e.length>0)for(var k=0;k<e.length;k++)b=b[e[k]];h=null!==h?h[1]:a;var m=b[h]||function(){};return m.apply(b,j)}var n=i.pop();setModelValue(i.shift(),b,$logicChecker(n,b,!0))}function $cookie(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="",i=$isNumber(c.expires);if(c.expires&&(i||c.expires.toUTCString)){var j;i?(j=new Date,j.setTime(j.getTime()+24*c.expires*60*60*1e3)):j=c.expires,h="; expires="+j.toUTCString()}var k=c.path?"; path="+c.path:"",l=c.domain?"; domain="+c.domain:"",m=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,k,l,m].join("")}function loadExternalScript(){function a(a,c,d){var e,f=0,g=[];if(a&&$isArray(a)&&a.length>0){var h=function(a,c){return a.indexOf("//")>-1?a:[b.sourcePath,a,".",d].join("")},i=function(a){document.getElementsByTagName("head")[0].appendChild(a)},j=function(a){var b=g.shift();i(b),b.onreadystatechange=b.onload=function(){var c=b.readyState;if(!a.done&&(!c||/loaded|complete/.test(c)))if(g.length)j(a);else{a.done=!0;var d=$provider.$get("$isExternalLoader");d.status&&d.init&&(d.init(),d.status=!1),a()}}};findInList.call(a,function(a,b){switch(d){case"css":e=document.createElement("link"),e.setAttribute("type","text/css"),e.setAttribute("href",h(b)),e.setAttribute("rel","stylesheet"),i(e);break;case"js":e=document.createElement("script"),e.setAttribute("src",h(b)),e.setAttribute("type","text/javascript"),e.async=!0,g.push(e)}}),$isEqual(d,"js")&&g.length&&($isUndefined(c)&&(c=function(){}),j(c),f++)}}this.js=function(b,c){a(b,c,"js")},this.css=function(b){a(b,null,"css")},this.setPath=function(a){return this.sourcePath=a,this},this.jscs=function(b,c){return domElementProvider.each(b[0],function(b,d){a(d,c,b)}),this};var b=this}function $filtersProviderFn(a){return function(b,c,d){var e="",f=$removeWhiteSpace(b);f&&$isJsonString(f)?(e=stringToObject(f,d),$isObject(e)||(e=b)):e=b;var g=(new $dependencyInjector).get(a);return $isFunction(g)?g(c,e):(errorBuilder(a+"Provider was not found in FilterProvider"),c)}}function $modelGenerator(){this.$mId=$eUID++,this.$$asyncQueue=[],this.$$subscribers={},this.$self=this,this.$parent=this.$child=this.$$phase=this.$$watchList=this.$next=this.$previous=this.$$isIsolated=null}function createNewModelInstance(a){var b;return a?(b=new $modelGenerator,b.$self=this):(this.$$isIsolated&&(this.$$childModel=null),this.$$childModel||(this.$$childModel=function(){this.$$watchList=[],this.$$broadcast=[],this.$mId=$eUID++,this.$$subscribers={},this.$previous=this.$child,this.$child=this.$$unObserve=this.$$childModel=null,this.$$asyncQueue=[],delete this.$$isIsolated},this.$$childModel.prototype=this),b=new this.$$childModel,this.$child=b,b.$parent=this,!$modelChildReferenceList.$get(this.$mId).indexOf(b.$mId)>-1&&$modelChildReferenceList.$push(this.$mId,b.$mId)),$$0=b,$modelMapping.$new(b.$mId,b),b}function $atp(a,b){$watchBlockFn(a,b),$dirtyChecker(),$jElementProviderWatchListFn(a,b)}function $observeElement(a,b,c){c&&model.$on("$destroy",c),element(a).bind("remove",function(a){var c=$modelMapping.$get(b);c&&c.$$destroy&&c.$$destroy()})}function $watch(){if($isObject(this)){var a=this,b={watchFn:arguments[0],listenerFn:arguments[1]||!1,core:!!arguments[2],lastValue:getWatchValue(arguments[0],a)};$isNull(this.$$watchList)&&(this.$$watchList=[]),this.$$watchList.push(b),$modelMapping.$new(this.$mId,this)}}function getWatchValue(a,b){return $isFunction(a)?$observe(b,a):b[a]}function $consume(a){var b=this.$$watchList,c=this;a&&$isFunction(a)&&a.apply(a,[]),c.$$beginPhase("$consume"),b.length>0&&b.forEach(function(a,b){if(!a.listenerFn)return a.watchFn();try{var d=getWatchValue(a.watchFn,c),e=a.lastValue;a.core?c.$$areEqual(d,e)&&a.listenerFn(d,e,c):(a.listenerFn(d,e,c),a.lastValue=d)}catch(a){errorBuilder(a)}}),c.$$destroyPhase()}function $removeAllBinding(a){$modelMapping.$remove(a),$attrWatchList.$remove(a),$directivesProviderWatchList.$remove(a);var b=$modelObserverList.$get(a);b.started&&b.$destroy(),$modelObserverList.$remove(a),$modelChildReferenceList.$remove(a),$watchBlockList.$remove(a)}function _Template(){var a=arguments,b=this;this.arg=a,this.callee=function(a){return a(b.arg[1])},this.evaluate=function(a){return a.indexOf("{%")>-1?new _Template(a):a},this.extract=function(){},this.pattern=/\{\%(.*?)\%\}/g,this.init=function(){}}function jConfigProvider(){var a={};this.register=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},this.resolve=function(b){for(var c in a[b]){var d=a[b][c];d[1]||(d[1]=!0,q("$jConfigProvider",d[0]))}}}function jRunProvider(){var a={};this.register=function(b,c){a[b]=c},this.resolve=function(b){return q("$jRunProvider",a[b])}}function $templateFactory(){this.get=function(a){return $template[a]},this.put=function(a,b){$template[a]=b},this.evaluate=function(a,b){return new _Template(a,b).init()}}function $httpProvider(){var a=[],b={request:[],responseError:[],responseSuccess:[]},c=!1;this.resolveInterceptor=function(a,d){var e=new $p;return c||(this.register(),c=!0),findInList.call(b[a],function(a,b){var c=b.apply(b,[d]);e[c?"resolve":"reject"](c)}),e},this.register=function(){findInList.call(a,function(a,c){if(c=$isString(c)?(new $dependencyInjector).get(c):q("$resolveHttpInterceptor",$inject(c)),$isObject(c)){var d=Object.keys(c).join("");b[d].push(c[d])}}),c=!0},this.$get=function(){return{interceptors:a}}}function $providerFn(a){var b={};this.register=function(a,c,d){$isAfterBootStrap&&!b[a][c]||(b[a]||(b[a]={}),b[a][c]=d)},this.resolve=function(c,d,e){if(!b[c])return this.register.apply(this,arguments),!1;switch(a){case"$jProvideProvider":var f=b[c][d];return e?q("$resolveProvider",$inject(f.$get)):f;default:return b[c][d]}}}function jControllerProvider(){var a=new $providerFn("$jControllerProvider");return a.$initialize=function(a,b,c,d,e){function f(){return q("$jControllerProvider",g,b,function(a){var c=binding(g,a),e=new c;d&&(b[d]=e)},e)}$isString(a)&&(a=(new $dependencyInjector).get($removeWhiteSpace(a)));var g=a.$injector?a:$inject(a),h=g.$resolvers||c;e=e||{},h?this.initializeResolvers(h,e).then(function(){f()}):f()},a.initializeResolvers=function(a,b){var c=new $p,d=[],e=Object.keys(a);for(var f in a)d.push(q("$resolverProvider",$inject(a[f])));return c.all(d).then(function(a){a.forEach(function(a,c){b[e[c]]=a}),c.resolve(b)}),c},a}function $controller(){var a=new jControllerProvider;this.$get=function(){return{instantiate:function(){return a.$initialize.apply(a,arguments)}}}}function $resolverProvider(){var a=new jControllerProvider;this.$get=function(){return{instantiate:function(){return a.initializeResolvers.apply(a,arguments)}}}}function $_init(a){this.fire=function(){if($isFunction(a))return r("$jConfigProvider",a)}}function p(a){return new $_init(a).fire()}function $backgroundModelWatcher(){findInList.call($modelMapping.$getAll(),function(a,b){b.$consume()})}function jObserver(a,b){function c(a){function b(){function b(a,c,f,g){g=g||[];var h;expect(a).search(null,function(i,j){if(c&&c.hasOwnProperty(j)&&!f)h=g.concat(j),i&&"object"==typeof i&&[Date,RegExp].indexOf(i.constructor)==-1?b(a[j],c[j],f,g.concat(j)):a[j]!==c[j]&&(e.changes.push({oldValue:c[j],newValue:a[j],path:h.join(".")}),c[j]=a[j]);else{h=g.concat(j);var k={newValue:a[j],oldValue:c?c[j]:c,path:h.join(".")};f?(e.deleted.push(k),delete a[j]):(e.insert.push(k),d(c,a,j,g))}})}function d(a,b,c,d){try{a[c]=b[c]}catch(a){var e=d.pop(),g=d,h=f._watchObj;g.forEach(function(a){h=h[a]}),h[e]=b}}var e={changes:[],insert:[],deleted:[]};return b(c,f._watchObj),JSON.stringify(f._watchObj).length>a.length&&b(f._watchObj,c,!0),e}var c=JSON.parse(a);return b()}function d(){var b=[],c=JSON.stringify(a,function(a,c){if($isObject(c)&&!$isNull(c)){if($inArray(c,b))return;b.push(c)}if(!$inArray(a,f.ignoreList))return c});return b=null,c}function e(){var g=d(),h=c(g),i=h.changes.length||h.insert.length||h.deleted.length;h&&i>f.lastCount&&b.call(a,h),f._interval=setTimeout(e,f.timer)}var f={_Id:null,lastCount:0,ignoreList:[],_watchObj:$isArray(a)?[]:{}};this.start=function(b,c){c&&$isArray(c)&&(f.ignoreList=c),"object"!=typeof a&&errorBuilder("Invalid Observer");var g=d(),h=JSON.parse(g);for(var i in h)f._watchObj[i]=h[i];f.timer=b||500,e()},this.$destroy=function(){f._interval&&clearTimeout(f.interval)}}function digestFromChanges(a){a.$$phase||a.$consume();var b=$modelChildReferenceList.$get(a.$mId);b.forEach(function(a){var b=$modelMapping.$get(a);b&&b.$consume&&digestFromChanges(b)})}function $observe(a,b){var c=$modelObserverList.$get(a.$mId);if(!c.started){var d=new jObserver(a,function(b){digestFromChanges(a)});d.start(500,ignoreList),d.started=!0,$modelObserverList.$new(a.$mId,d)}b(a)}function stop(a){a.preventDefault(a),a.stopPropagation(a)}function fix(a,b){if($isUndefined(a))var a=window.event;if(a.stop=function(){stop(a)},($isNull(a.target)||$isUndefined(a.target))&&(a.target=a.srcElement||b),$isNull(a.currentTarget)&&(a.currentTarget=b),a.preventDefault||(a.preventDefault=function(){a.returnValue=!1}),a.stopPropagation||(a.stopPropagation=function(){a.cancelBubble=!0}),a.target&&3===a.target.nodeType&&(a.target=a.target.parentNode),null==a.pageX&&null!=a.clientX){var c=document.documentElement,d=document.body;a.pageX=a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=a.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)}return a}function createResponder(a,b){return function(c){return fix(c,a),b.apply(a,[c])}}function removeCachedResponder(a){var b,c=0,d=0;for(d=0;d<cache.length;d++)d!=a&&(cache[c++]=cache[d]);return cache.length=c,b}function IEType(a){return a.match(/:/)?a:"on"+a}function Event(a,b){var c;return window.customEvent?c=new customEvent(a,{detail:b?b:{}}):(c=document.createEvent("Event"),c.initEvent(a,!0,!0,b?b:null)),c}function eliready(a){readyCallbacks.push(a),bindOnReady()}function ready(){if(!isReady){if(!document.body)return setTimeout(ready,13);isReady=!0;for(var a in readyCallbacks)readyCallbacks[a]();readyCallbacks=null}}function DOMReadyScrollCheck(){if(!isReady){try{document.documentElement.doScroll("left")}catch(a){return void setTimeout(DOMReadyScrollCheck,1)}ready()}}function bindOnReady(){if(!onReadyBound)if(onReadyBound=!0,"complete"===document.readyState)ready();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",ready);var a=!1;try{a=null==window.frameElement}catch(a){}document.documentElement.doScroll&&a&&DOMReadyScrollCheck()}}function $isMyChild(a){return function(b){return a.contains(b)}}function $hasClass(a){return!!this&&(this.className.indexOf(a)>-1?1:0)}function directiveMatcher(a){var b=a.match(/[A-Z]/g),c=a;return b.length>0&&domElementProvider.each(b,function(a,b){c=c.replace(b,"-"+b.toLowerCase())}),c}function insertBefore(a,b){var c=a.childNodes.length?a.childNodes[0]:a.childNodes;c?a.insertBefore(b,c):a.appendChild(b)}function isValidElement(a){return 3!==a.nodeType&&8!==a.nodeType}function elementBuilder(a){var b={},c=0;if(a.length)for(var d in a)a[d].nodeName&&(b[d]=a[d],c++);return b.length=c,b}function elementChecker(a,b){var c,d=[];if(a.match(/[#.:=-]/g)||a.match(new RegExp("\\s")))for(c in b)b[c].tagName&&d.push(l[c]);else for(c in b)b[c].tagName&&$isEqual(b[c].tagName.toLowerCase(),a)&&d.push(b[c]);return elementBuilder(d)}function findInElement(a,b){var c;return c=$isObject(a)||$isArray(a)?a.length||9!==a.nodeType&&a!==window?a[0].querySelectorAll(b):element(b):document.querySelectorAll(b,document.querySelector(a)[0]),elementBuilder(c)}function find(a){return this&&this.length?findInElement(this,a):findByXpr(a)}function findByXpr(a){var b,c=[];if(a.match(/[:]/)){b=a.split(":");var d=document.querySelectorAll(b[0]);if(d.length){var e,f,g=d.length-1;for(f=0;f<=g;f++)switch(e=d[f],b[1]){case"hidden":e.offsetHeight<1&&c.push(d[f]);break;case"visible":e.offsetHeight>0&&c.push(d[f])}}return elementBuilder(c)}return elementBuilder(document.querySelectorAll(a))}function ByNew(a){return elementBuilder(a.match(/[<>]/g)?toDOM.call(a,!0):[document.createElement(a.replace(/[@]/g,""))])}function jEliDOM(){this.init=function(a,b){function c(b){return typeof a===b}function d(){var d,e=Object.create(domElementProvider);return c("object")?d={0:a,length:1}:$isUndefined(b)?c("string")&&(a.match(/[#.=-]/g)||a.match(new RegExp("\\s")))&&!a.match(/[@<>]/g)?(d=find(a),d.selector=a,d.context=b):d=c("string")&&a.match(/[@<>]/g)?ByNew(a):c("string")&&find(a):d=findInElement(b,a),extend(e,d)}if(!$isUndefined(a))return d()}}function element(a,b){return(new jEliDOM).init.apply(null,arguments)}function handle_removed_events(a){elemsToRemove.each(function(a,b){element(b).triggerHandler("remove")})}function jQueryExtraParser(a){return jQuery.fn[a]}function xhr(){if("undefined"!=typeof XMLHttpRequest&&!window.ActiveXObject)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1}function ajax(a,b){function c(a){return a.status>=200&&a.status<300||304==a.status||0==a.status&&a.responseText}function d(a){var d;if(4==j.readyState){l.contentType=j.mimeType||j.getResponseHeader("content-type")||"";if(l.status=j.status,i.readyState=j.readyState,l.path=b.url,d=/json/.test(b.dataType||l.contentType)?JSON.parse(j.responseText):/xml/.test(b.dataType||l.contentType)?parseXML(j.responseText):j.responseText,l.success=c(j),b.callback)return b.callback(l,j);l.data=d,m.resolveInterceptor(l.success?"responseSuccess":"responseError",l),f.apply(l.success?"success":"error",[l,j]),k[l.success?"resolve":"reject"](l,j),b.getResponseHeader&&b.getResponseHeader.apply(b.getResponseHeader,[e])}}function e(a){if($isObject(a)){for(var b in a)a[b]=j.getResponseHeader(a[b]);return a}return j.getResponseHeader(a)}function f(){b[this]&&b[this].apply(b[this],arguments)}function g(){for(var a in b.headers){if(unsafeHeaders[a]||/^(Sec-|Proxy-)/.test(a))throw new Error('Refused to set unsafe header "'+a+'"');j.setRequestHeader(a,b.headers[a])}}function h(){try{var a=$inArray(b.type,["post","put","delete"])?b.data:null;j.send(a)}catch(a){b.error&&b.error()}}var i,j=xhr(),k=new $p,l={},m=$provider.$get("$httpProvider"),n={Accept:"text/javascript, application/json, text/html, application/xml, text/xml, */*","Content-Type":"application/x-www-form-urlencoded"};if("undefined"==typeof b&&$isObject(a)&&(b=a),b=b||{},b.headers=extend({},n,b.headers),b.url=b.url||a,b.type=b.type?b.type.toLowerCase():"get",b.asynchronous=b.asynchronous||!0,b.data=b.data||"",b.contentType&&(b.headers["Content-Type"]=b.contentType),m.resolveInterceptor("request",{headers:b.headers,url:b.url,type:b.type}).then(function(a){b=extend({},b,a)}),b.xhrFields&&b.xhrFields.withCredentials&&(j.withCredentials=!0),!$isString(b.data))switch(b.type){case"get":b.data=serialize(b.data);break;default:b.data=JSON.stringify(b.data)}return"get"===b.type&&(b.data&&(b.url+=(/\?/.test(b.url)?"&":"?")+b.data),$isUndefined(b.cache)||b.cache||(b.url+=(/\?/.test(b.url)?"&":"?")+"_="+(new Date).getTime())),j.onreadystatechange=d,j.open(b.type,b.url,b.asynchronous),b.beforeSend&&$isFunction(b.beforeSend)&&b.beforeSend.apply(b.beforeSend,[j]),g(),h(),i={done:function(a){return b.success||(b.success=a),i},fail:function(a){return b.error||(b.error=a),i},end:function(a){return!b.callback&&a&&(b.callback=a),h(),i},then:function(){return i.end(),k&&k.then.apply(k,arguments),i}}}function openedDBResolvers(){this.networkResolver={serviceHost:null,dirtyCheker:!0,conflictResolver:null,logger:[],logService:function(){},interceptor:function(){},deletedRecords:{table:{},database:{}},handler:{onSuccess:function(){},onError:function(){}},app_id:"*",inProduction:!1},this.register=function(a,b){return $isObject(a)&&!b?this.networkResolver=extend(this.networkResolver,a):this.networkResolver[a]=b,this},this.getResolvers=function(a){return this.networkResolver[a]||""}}function sqliteStorage(){var a={},b=window.sqlitePlugin.openDatabase({name:"jEliDB",location:"default"});this.useDB=function(){var a={},c=function(a){var b=[],c=[];for(var d in a)b.push(b+"=?"),c.push(a[d]);return{col:b,val:c}};return a.createTable=function(a){var c=new $p;return b.transaction(function(b){b.executeSql(a,[],c.resolve,c.reject)}),c},a.insert=function(a,d){a&&$isObject(d)||errorBuilder("Table and data is required");var e=new $p,f=Object.key(d),g=c(d),h="INSERT INTO "+a+" ("+f.join(",")+") VALUES ("+g.col.join(",")+")";return b.transaction(function(a){a.executeSql(h,g.val,e.resolve,e.reject)}),e},a.select=function(a){a||errorBuilder("Table is required");var c=new $p,d="SELECT * FROM "+a;return b.transaction(function(a){a.executeSql(d,[],c.resolve,c.reject)}),c},a.delete=function(a,c,d){a||errorBuilder("Table and id is required"),d=d||[];var e=new $p,f="DELETE FROM "+a;return f+=c,b.transaction(function(a){a.executeSql(f,d,e.resolve,e.reject)}),e},a.update=function(a,d,e){a&&$isObject(d)||errorBuilder("Table and data is required");var f=new $p,g="UPDATE "+a,h=c(d);return g+=" "+h.col.join(","),g+=e,b.transaction(function(a){a.executeSql(g,h.val,f.resolve,f.reject)}),f},a.dropTable=function(a){a||errorBuilder("Table is required");var c=new $p,d="DROP TABLE  IF EXISTS "+a;return b.transaction(function(a){a.executeSql(d,[],c.resolve,c.reject)}),c},a};var c=this.useDB();a.setItem=function(a,b){c.update(a,{_storage:b})},a.getItem=function(a){c.select(a).then(function(a,b){})},a.removeItem=function(a){c.update(a,{_storage:""})}}function purifyJSON(a){return $isJsonString(a)?JSON.parse(a):void 0}function getStorageItem(a){var b=$queryDB.$storage.getItem(a);return purifyJSON(b||void 0)}function setStorageItem(a,b){if(a&&b&&$isObject(b)){var c=JSON.stringify(b);$isJsonString(c)&&$queryDB.$storage.setItem(a,c)}}function delStorageItem(a){return getStorageItem(a)&&$queryDB.$storage.removeItem(a),!0}function getDBSetUp(a){return{started:(new Date).getTime(),lastUpdated:(new Date).getTime(),resourceManager:{}}}function updateDeletedRecord(a,b){var c=getStorageItem($queryDB.$delRecordName),d=$queryDB.$getActiveDB().$get("resolvers");c&&c[b.db]?d.register("deletedRecords",c[b.db]):(c={},c[b.db]={}),$isEqual(a,"table")&&$queryDB.$getActiveDB().$get("resourceManager").removeTableFromResource(b.name);var e=d.getResolvers("deletedRecords");e[a][b.name]=b.$hash||GUID(),c[b.db]=e,setStorageItem($queryDB.$delRecordName,c)}function resourceManager(a){var b=null,c=$queryDB.$dbName+"_"+a;this.getResource=function(){return b||getStorageItem(c)},this.removeTableFromResource=function(a){var b=this.getResource();b&&b.resourceManager.hasOwnProperty(a)&&(delete b.resourceManager[a],setStorageItem(c,b))},this.setResource=function(a){b=a,setStorageItem(c,a)}}function jDBStorage(a){var b=window[a]||{};this.setItem=function(a,c){var d=Math.floor((2*c.length/1024).toFixed(2));return d>=5120?void $queryDB.getNetworkResolver("logService")("_STORAGE_ERROR:File-Size is too large :"+d/1024+" MB"):void(b[a]=c)},this.getItem=function(a){return b[a]},this.removeItem=function(a){delete b[a]},this.clear=function(){b.clear&&b.clear()}}function DBRecordResolvers(a){function b(){return{delete:[],update:[],insert:[]}}var c={},d="_l_",e={$set:function(e){return c[a][e]||(c[a][e]={data:b(),columns:b()}),{data:function(b,f){f.length&&(c[a][e].data[b].push.apply(c[a][e].data[b],f),setStorageItem(d,c))},columns:function(b,f){f.length&&(c[a][e].columns[b].push.apply(c[a][e].columns[b],f),setStorageItem(d,c))}}},$get:function(d,e){if(c[a]&&c[a][d]){var f=c[a][d];return e?f[e]:f}return{data:b(),columns:b()}},$isResolved:function(b){function e(c){$queryDB.$taskPerformer.localStorage.updateDB(a,b,function(a){a.$hash=c})}var f;return c[a]&&c[a][b]&&(delete c[a][b],f=getStorageItem(d),f&&(delete f[a][b],setStorageItem(d,f))),{updateTableHash:e}}};if(!c[a]&&a){c[a]={};var f=getStorageItem(d);f&&f[a]&&(c[a]=f[a])}return e}function $query(a){function b(a){var b=1;return function(c,d){var e=c[a]<d[a]?-1:c[a]>d[a]?1:0;return e*b}}this.sortBy=function(){var c=arguments;if($isArray(a))return a.sort(function(a,d){for(var e=c,f=0,g=0,h=e.length;0===g&&f<h;)g=b(e[f])(a,d),f++;return g})},this.where=function(b,c){if($isArray(a)&&b){var b=removeSingleQuote(b),d=$removeWhiteSpace(b).split(/(?:like):/gi);return a.filter(function(a,e){var f=d.length>1?String(a[d[0]]||"").toLowerCase().search(String(d[1]).toLowerCase())!==-1:$logicChecker(b,a);return c&&f&&c.call(a,e),f})}return a},this._=function(b,c){var d=[];if($isArray(a)){var e=new externalQuery(b);return expect(a).search(null,function(a,b){var f=e(a,b);f&&($isFunction(c)?c(a,b):d.push(a._data))}),d}return a}}function externalQuery(a){function b(a){var b={like:[],normal:[]};for(var c in a)if(a[c]){var d=a[c].split(/:(?:like):/gi),e={exp:a[c],task:d};d.length>1?b.like.push(e):b.normal.push(e)}return b}var c,d;return this.objectQueryTaskPerformer=function(b){var d=0;for(var e in a)switch(typeof b._data[e]){case"object":JSON.stringify(a[e])===JSON.stringify(b._data[e])&&d++;break;default:a[e]===b._data[e]&&d++}return c===d},this.likeQueryTaskPerformer=function(b,c){for(var e=a,f=d.like.length;f--;){var g=String(maskedEval(d.like[f].task[0],b._data)||""),h=g.toLowerCase().search(String(d.like[f].task[1]).toLowerCase())>-1;e=e.replace(d.like[f].exp,h)}if(d.normal.length)for(var f=d.normal.length;f--;)e=e.replace(d.normal[f].exp,maskedEval(d.normal[f].task[0],b._data));return maskedEval(e)},this.normalQueryTaskPerformer=function(b){return maskedEval(a,b._data)},a?$isObject(a)?(c=Object.keys(a).length,this.objectQueryTaskPerformer):(a=$removeWhiteSpace(a),d=b(a.split(/[&&||]/gi)),d.like.length?this.likeQueryTaskPerformer:this.normalQueryTaskPerformer):function(){return!0}}function jEliDBTBL(a){function b(){$queryDB.stack.push(function(){$queryDB.$taskPerformer.localStorage.updateDB(a.DB_NAME,a.TBL_NAME)})}function c(b){findInList.call(a.data,function(c,d){$isFunction(b)&&b(d),a.data[c]=extend(columnObjFn(a.columns[0]),d)})}this.Alter={drop:function(d){$isString(d)&&a.columns[0][d]&&delete a.columns[0][d],c(function(a){a.hasOwnProperty(d)&&delete a[d]}),b()},add:function(d){return{key:function(c,e){switch(d.toLowerCase()){case"primary":c&&a.columns[0][c]&&(a.primaryKey=c,a.columns[0][c].primaryKey=!0,b());break;case"foreign":c&&e&&a.columns[0][c]&&(!a.foreignKey&&$queryDB.DB.$getTable(a.DB_NAME,e)&&(a.foreignKey={key:c,table:e}),b())}return this},column:function(d,e){if($isString(d)){var f={};f[d]=e?e:{},a.columns[0]=extend({},a.columns[0],f),c(),b()}return this},mode:function(c){a.allowedMode[c]||(a.allowedMode[c]=1,b())}}}},this.columns=function(){return a.columns[0]},this.truncate=function(c){return c?(a.data=[],b(),dbSuccessPromiseObject("truncate",a.TBL_NAME+" was truncated")):dbErrorPromiseObject("Table ("+a.TBL_NAME+") Was not found in "+a.DB_NAME+" DataBase or invalid flag passed")},this.drop=function(c){if(c){var d={name:a.TBL_NAME,$hash:a.$hash,db:a.DB_NAME};return a.TBL_NAME||a.$hash?($queryDB.$taskPerformer.localStorage.updateDeletedRecord("table",d),$queryDB.DB.removeTable(a.TBL_NAME,a.DB_NAME)&&b(),dbSuccessPromiseObject("drop","Table ("+a.TBL_NAME+") was dropped successfully")):dbErrorPromiseObject("Invalid Table record passed, please try again.")}return dbErrorPromiseObject("Table ("+a.TBL_NAME+") Was not found in "+a.DB_NAME+" DataBase or invalid flag passed")},this.onUpdate=jDBStartUpdate("table",a.DB_NAME,a.TBL_NAME,a.$hash)}function columnObjFn(a){var b={},c=function(a){switch(a){case"CURRENT_TIMESTAMP":a=+new Date;break;default:a=a||null}return a};return findInList.call(a,function(a,d){b[a]=c(d.defaultValue||d.default)}),b}function jTblQuery(a,b,c){function d(a){expect(o).contains(a)||o.push(a)}function e(b){return $isArray(q)&&a.data.push.apply(a.data,q),q=[],{message:b+" record(s) inserted successfully"}}function f(){i="",j=[],k=[],l=[],n=[],o=[]}function g(a,b,c){var d=typeof a,e=!1;switch(b){case"varchar":case"text":case"string":$isEqual(d,"string")&&(e=d);break;case"number":case"integer":case"int":case"smallint":case"bigint":!$isNumber(a)&&isNaN(Number(a))||(e=d);break;case"double":case"decimal":case"long":$isDouble(a)&&(e=d);break;case"boolean":isNaN(Number(a))||(e=d);break;case"float":$isFloat(a)&&(e=d);break;case"datetime":case"timestamp":case"date":new Date(a)instanceof Date&&(e=b);break;case"object":case"array":($isObject(a)||$isArray(a))&&(e=b)}return e}function h(b,c){var e=a.columns[0],f=1;return!!b&&(findInList.call(b,function(h,i){if(!e[h])return d("column ("+h+") was not found on this table ("+a.TBL_NAME+"), to add a new column use the addColumn FN - ref #"+c),void(f=!1);var j=typeof b[h],k=g(b[h],(e[h].type||"STRING").toLowerCase(),j);k||(d(h+" Field requires "+k+", but got "+j+"- ref #"+c),f=!1)}),f)}var i="",j=[],k=[],l=[],m=b||"read",n=[],o=[],p=$queryDB.$getActiveDB(a.DB_NAME).$get("recordResolvers");if($isObject(a)||errorBuilder("Unable to perform query at the moment, please try again later"),expect(m).contains("write")){var q=[],r=null;this.insert=function(){var b,c=arguments,d=columnObjFn(a.columns[0]);if(c.length&&d){for(b=0;b<=c.length-1;b++){var f=$isObject(c[b])?"object":"array",g={};switch(f){case"object":g=c[b];break;case"array":var i,k=Object.keys(d);for(i in k)g[k[i]]=c[b][i]}if(h(g,b)){var l=a.columns[0],m=extend({},d,g);a.lastInsertId++,
findInList.call(m,function(b,c){!c&&l[b].hasOwnProperty("AUTO_INCREMENT")&&(m[b]=a.lastInsertId)});var n={};n._ref=GUID(),n._data=m,q.push(n)}}$isEqual(r,"insert")||j.push(["insert",function(){if(o.length)throw q=[],new Error(o);return p.$set(a.TBL_NAME).data("insert",q),e(q.length)}]),r="insert"}return this},this.update=function(b,c){function e(a){var a=maskedEval(a);if($isString(a)){for(var b=removeSingleQuote(a),c=b.split(","),e=c.length,f={};e--;){var g=c[e].split("=");f[g[0]]=g[1]}return f}return $isObject(a)?a:void d("Unable to update Table, unaccepted dataType recieved")}if(!c&&$isString(b))var f=$removeWhiteSpace(b).split(/(?:where):/gi),b=f.shift(),c=f.pop();var g=!!c&&removeSingleQuote(c),h=e(b),i=a.data.length,k=0,l=function(b){a.data[b]._data=extend({},a.data[b]._data,h),k++,m.push(a.data[b])},m=[];return j.push(["update",function(){if(o.length||!h)throw Error(o);if(g)new $query(a.data)._(g,function(a,b){l(b)});else for(;i--;)l(i);return p.$set(a.TBL_NAME).data("update",m),m=[],{message:k+" row(s) updated."}}]),this},this.lastInsertId=function(){return a.lastInsertId},this.delete=function(b){if(b){var c=[];new $query(a.data)._(b,function(a,b){c.push(a)}),j.push(["delete",function(){if(c.length)return a.data=a.data.filter(function(a){return!$inArray(a,c)}),p.$set(a.TBL_NAME).data("delete",c),{message:c.length+" record(s) removed"};throw Error(["No record(s) to remove"])}])}return this}}expect(m).contains("read")&&(c&&(this.condition=new $query(a.data)),this.getColumn=function(b,c,d){function e(a){if(d){var b=d.split(",");return a.splice(parseInt(b[0]),parseInt(b[1]))}return a}function f(){return $isArray(c)?c:a.data?a.data:$isString(c)?a[c].data:[]}function g(){for(var a={},b=0,d=i.length;d--;){var e,f,g,k=i[d];if(expect(k).contains(".")){var l=k.split(".");f=$removeWhiteSpace(l[0]),e=l[1].split(" as "),g=c[h][f]||c[h],expect(k).contains(" as ")&&(f=!1)}else e=k.split(" as "),g=c[h];e.filter(function(a,b){return e[b]=$removeWhiteSpace(a),1});var m=e.pop(),n=e.length?e.shift():m;a[m]=g[n]||null,b++}!b||JSON.stringify(j).indexOf(JSON.stringify(a))>-1||j.push(a)}var h,i=b.split(","),j=[],c=f();if(expect(b).contains("*"))return e(c);for(h in c)g();return e(j)},this.select=function(b){function e(){if(b){var e=b.split(",");m&&expect(b).contains("*")&&d("Invalid Select Statment."),findInList.call(e,function(b,e){if(expect(e).contains("."))if(c){var f=e.split("."),g=$removeWhiteSpace(f[0]);a[g]?q[g]=a[g].data:d("Include table in transaction Array eg: db.transaction(['table_1','table_2'])")}else d("Single table SELECT query doesn't require tableName.columnName #:"+e)})}}function f(a,b,c,d){return function(c,d){switch(l){case"inner":a&&p.push(c);break;case"left":case"right":a?p.push.apply(p,b):p.push(c);break;case"outer":expect(d).contains("left")?a?p.push.apply(p,b):p.push(c):a||p.push(c)}}}function g(a){var b=k[0].split("."),c=k[1].split("."),d=q[b[0]],e=q[c[0]],h=(e.length,d.length,d),i=e,j=b[1],l=c[1],m=b[0],n=c[0];$isEqual(a,"right")&&(h=e,i=d,j=c[1],l=b[1],m=c[0],n=b[0]);var o=h.length,p=0;return expect(h).search(null,function(b,c){var d={},e=b._data,g=0,h=[];return d[m]=e,d[n]={},expect(i).search(null,function(a,b){var c=a._data;if($isEqual(e[j],c[l])){d[n]=c;var f={};f[m]=e,f[n]=c,h.push(f),g++}return!0}),p++,f(g,h,o,p)(d,a),!0}),{recur:function(a){return g(a)}}}var h,i=!1,k=!1,l="",m="",n=this,p=[],q={};b||d("Left Table Query is required"),j.push(["select",function(){if(e(),o.length)throw new Error(o);if(k){switch(l){case"outer":g("left").recur("right");break;default:g(l)}return i?new $query(n.getColumn(b,p,h))._(i):n.getColumn(b,p,h)}return p=a.data,n.getColumn(b,new $query(p)._(i),h)}]);var r=function(a,b){return l=a,m=b,{on:function(b){return b?k=$removeWhiteSpace(b).split("="):d(a.toUpperCase()+" JOIN clause was required but was never used."),{execute:n.execute,where:s,limit:t}}}},s=function(a){return i=a,{limit:t,execute:n.execute}},t=function(a){return h=a,{execute:n.execute}};return{join:function(a){if(expect(a).contains(":")){var b=$removeWhiteSpace(a).split(":"),c=b.shift().toLowerCase(),e=b.pop();if($inArray(c,["inner","left","right","outer"]))return r(c,e);d("Invalid join clause used ("+c+")")}else d("JOIN clause requires a table Name e.g(inner:tablename)");return r(void 0)},limit:t,where:s,execute:this.execute}}),this.execute=function(b,c){if(j.length){var d=new $d,e=!1;return findInList.call(j,function(b,c){if(c.length>1){var g={state:c[0]};try{var h=c[1].call();sqlResultExtender(g,h)}catch(a){g.message=a.message,e=!0}finally{d[e?"reject":"resolve"](g),f(),expect(["insert","update","delete"]).contains(c[0])&&!e&&(liveProcessor(a.TBL_NAME,a.DB_NAME)(c[0]),$queryDB.stack.push(function(){$queryDB.$taskPerformer.localStorage.updateDB(a.DB_NAME,a.TBL_NAME)}))}}}),new DBPromise(d)}}}function DBEvent(a,b,c){if(this.name=a,this.version=b,this.env={usage:function(){return a&&$queryDB.DB.hasOwnProperty(a)?(2*(a.length+$localStorage[a].length)/1024).toFixed(2)+" KB":"unknown usuage"},logger:function(){var b=$queryDB.$getActiveDB(a).$get("resourceManager").getResource();return b},appkey:function(){var b=$queryDB.buildOptions(a,"","apikey"),c=new $p,d=$queryDB.getNetworkResolver("logService");return b.type="POST",d("Retrieving Api Key and Secret.."),ajax(b).then(function(a){d("Completed without errors.."),c.resolve(a.data)},function(a){d("Completed with error.."),c.reject(a.data.error)}),c}},this.onUpdate=jDBStartUpdate("db",a,null),c&&$isArray(c)){var d={},e=this;return c.filter(function(a){d[a]=e[a]}),d}}function setCondition(a){return a.slice(parseInt(a.indexOf("where")+1)).join(" ")}function jCMDHelpers(){var a=[];this.add=function(b){a.push(b)},this.get=function(){return a},this.overwrite=function(b){$isArray(b)&&b.length&&(a=b)}}function jEliDB(a,b){function c(c){function d(){$queryDB.$getActiveDB(a).$get("resourceManager").setResource(getDBSetUp(a)),j()}function e(){g.result=new DBEvent(a,b,["_users","name","version","close","api"]),g.type="loginMode",g.message="DB Authentication Mode!!",f.resolve(g)}function j(){g.result=new DBEvent(a,b);var c=$queryDB.DB.$get(a)||{},d=$isEqual(c.version,b);c&&d?(g.message=a+" DB already exists with version no:("+c.version,g.message+="), having "+Object.keys(c.tables).length+" tables",g.type="existMode"):($queryDB.DB.$set(a,{tables:{},version:b}),c&&!d?(g.message=a+" DB was successfully upgraded!!",$queryDB.DB[a].version=b):g.message=a+" DB was successfully created!!",$queryDB.stack.push(function(){$queryDB.$taskPerformer.localStorage.updateDB(a)}),g.type="upgradeMode"),f.resolve(g)}var k,l,m=new DBPromise(f);if(a){if($queryDB.DB.$setActiveDB(a),$queryDB.DB.isOpen(a)&&errorBuilder("The DB you re trying to access is already open, please close the DB and try again later"),$queryDB.$getActiveDB().$get("resolvers").register(c),i&&$queryDB.$getActiveDB().$get("resolvers").register("inProduction",i),l=$queryDB.getNetworkResolver("inProduction",a),h)return e(),m;k=new jEliDBSynchronization(a).Entity(a).configSync({}),$queryDB.$taskPerformer.localStorage.initializeDB(a)?j():k.resource().then(function(c){if(c.data.resource){var e=JSON.parse(c.data.resource),f=$queryDB.$getActiveDB(),g=f.$get("resolvers").getResolvers("loadServerData")||[];f.$get("resourceManager").setResource(e),k.getSchema(g).then(function(c){var d={tables:{},version:b};for(var e in c.schemas)d.tables[e]=c.schemas[e];$queryDB.DB.$set(a,d),setStorageItem(a,d),j()})}else l&&errorBuilder("Unable to initialize DB please contact the Web Admin"),d()},function(){d()})}else g.message="There was an error creating your DB,",g.message+=" either DB name or version number is missing",g.errorCode=101,f.reject(g);return m.onUpgrade=function(a){$isFunction(a)&&$isEqual(g.type,"upgradeMode")&&(g?a.call(a,g):setTimeout(function(){a(g)},2e3))},m}function d(){return i=!0,{open:c,requiresLogin:e}}function e(){return h=!0,{open:c}}var f=new $d,g={},b=parseInt(b||"1"),h=!1,i=!1;return{open:c,isClientMode:d,requiresLogin:e}}function jExport(a){function b(a,b){function c(a){return a+"."+b}if(a&&!$isEmpty(a))return{download:function(d){var e=encodeURI("data:text/"+b+";charset=utf-8,"+a),f=element("<a></a>").attr({href:e,download:c(d||GUID())}).appendTo("body").css("display","none");return f[0].click(),f.remove(),"downloading file"},print:function(){return a}}}var c={csv:function(){var a="",c=!1;return{open:function(a){return a&&this.row([a]),{row:this.row,close:this.close}},row:function(b){return b&&$isArray(b)&&(a+=b.join(",")),a+="\n",{row:this.row,close:this.close}},close:function(){return $isEmpty(a)||c||(c=!0),new b(a,"csv")}}},html:function(){var a="",c=!1;return{open:function(b){return a+="<html><head><title>"+(b?b:"jELi HTML Export")+"</title></head><body>",a+='<table border="1" cellpadding="0" cellspacing="0" width="100%">',{row:this.row,close:this.close}},row:function(b){var c="<tr>";if(b&&($isObject(b)||$isArray(b)))for(var d in b)c+="<td>"+b[d]+"</td>";return c+="</tr>",$isEmpty(a)||(a+=c),{row:this.row,close:this.close}},close:function(){return $isEmpty(a)||c||(a+="</table></body></html>",c=!0),new b(a,"html")}}},json:function(){var a=[];return{put:function(b){a=JSON.stringify(b)},close:function(){return new b(a,"json")}}}};return a&&c[a]?c[a]():c}function jFileReader(){function a(a){function b(a){function b(a){var b={};if(f.length===a.length){for(var c in a)b[f[c]]=isNaN(Number(a[c]))?a[c]:Number(a[c]);d.data.push(b)}else d.skippedData.push(a)}function e(){for(var c=1;c<=a.length;c++)if(a[c]&&!$isEmpty(a[c][0])){var d=a[c][0].split(",");b(d)}}var f;a&&!d.data.length&&(f=d.columns=a[0][0].split(","),e()),c.onSuccess(d)}function e(){for(var b=a.split(/\r\n|\n/),c=[],d=0;d<b.length;d++){for(var e=b[d].split(";"),f=[],g=0;g<e.length;g++)f.push(e[g]);c.push(f)}return c}function f(){function b(a){var b=a.childNodes,c=[],d=[];for(var e in b)d.push(b[e].textContent);return c.push(d.join(",")),c}var c=element("<div />").html(a),d=c[0].querySelectorAll("tr"),e=[];if(d.length)for(var f in d)d[f].tagName&&e.push(b(d[f]));return e}function g(){if(a){var b=JSON.parse(a);return d.columns=Object.keys(b[0]),d.data=b,b}}function h(){return c.selectedFile.name.split(".")[1]}var i={csv:e,html:f,json:g},j=h();j&&i[j]&&b(i[j]())}function b(){if(c.selectedFile){var a=new FileReader;a.readAsText(c.selectedFile),a.onload=c.onload,a.onerror=c.onError}}var c={onselect:function(){},onSuccess:function(){},onError:function(){},onload:function(b){a(b.target.result)},selectedFile:null},d={columns:[],data:[],skippedData:[]};this.start=function(a){a&&extend(c,a);var e=element("<input type='file'/>");return e.bind("change",function(a){c.onselect(this.files[0].name,this.files),c.selectedFile=this.files[0],b(),e.remove()}).css({top:"-10000px",position:"absolute"}).appendTo("body"),e[0].click(),{getFile:function(){return c.selectedFile},getData:function(){return d}}}}function jEliDBSynchronization(a){function b(a){a&&(a="["+(new Date).toLocaleString()+"] : "+a,B.logService?B.logService(a):B.logger.push(a))}function c(a,b){function c(a,b,c,e){function f(){c.diff++,d++}for(var g in a){var h={key:g,data:a[g]},i=expect(b).search(null,function(a,b){return $isEqual(e,"data")?$isEqual(a._ref,h.data._ref):$isEqual(b,g)});i?$isEqual(JSON.stringify(a[g]),JSON.stringify(i))||(h.data=a[g],c.update.push(h),f()):a[g]&&!i&&($isEqual(c.changesFound,"Local")?c.insert.push(h):c.delete.push(h),f())}return c}var d=0,e=$isEqual(a.$hash,b.$hash);this.data=function(){var d=a.data||[],e=b.data||[],f={update:[],insert:[],delete:[],diff:0,changesFound:"server"},g=d,h=e;return d.length<e.length&&(g=e,h=d,f.changesFound="Local"),c(g,h,f,"data")},this.columns=function(){var d=a.columns[0]||{},e=b.columns[0]||{},f={update:[],insert:[],delete:[],diff:0,changesFound:"server"},g=d,h=e;return Object.keys(g).length<Object.keys(h).length&&(g=e,h=d,f.changesFound="Local"),c(g,h,f)},this.foundChanges=function(){return d},this.$hashChanges=function(){return e},this.$noLocalData=function(){return(a.data||[]).length&&!b.data.length}}function d(){return{$hash:null,data:[],columns:[{}]}}function e(a,d,e){var f={hashChanged:0,dataChanged:0},g=new c(a,d),h=a.TBL_NAME;if(C[a.TBL_NAME]={data:g.data(),columns:g.columns()},d)g.$hashChanges()&&!g.$noLocalData()||(b("Table("+h+") was updated on the server"),f.hashChanged=1),g.foundChanges()&&(f.dataChanged=1);else{var i=B.deletedRecords.table[a.TBL_NAME];i?$isEqual(i,a.$hash)||(b("Table ("+h+") was dropped on your local DB, but have lastest changes"),f.hashChanged++):(b("Synchronizing New Table("+h+") to your local DB"),f.hashChanged++)}return f}function f(b,c){$isObject(b)||(b=$queryDB.DB.$getTable(a,b)),b.$hash=c||GUID(),b.lastModified=+new Date,delete b._$,$queryDB.$taskPerformer.localStorage.updateDB(a)}function g(){B.handler.onSuccess(dbSuccessPromiseObject("sync","Synchronization Complete without errors"))}function h(){B.handler.onError(dbErrorPromiseObject("Completed with Errors, please check log"))}function i(){for(var a in C){b("---Log for "+a+" table----");var c=["delete","insert","update"],d=["data","columns"];for(var e in d){b(d[e].toUpperCase()+" Changes: "+C[a][d[e]].changesFound);for(var f in c)b(c[f].toUpperCase()+" : "+C[a][d[e]][c[f]].length)}}}function j(a){var b=l("schema",!1,u().tables),c=new $p;return b.data.fetchData=a,b.type="POST",ajax(b).then(function(a){c.resolve(a.data)},function(a){c.reject(a)}),c}function k(){function b(b,c){var d=new $p;return ajax(b).then(function(b){$queryDB.DB.$resolveUpdate(a,c,{insert:b.data._rec}).then(function(b){$queryDB.$taskPerformer.localStorage.updateDB(a,c),d.resolve(sqlResultExtender(dbSuccessPromiseObject("select",""),b.insert))})},function(a){d.reject(dbErrorPromiseObject("Unable to fetch records"))}),d}this.getByRef=function(a,c,d){var e=l("query",!0,a);return e.data.query={type:"_ref",limit:"JDB_SINGLE",param:c},b(e,a)},this.getAll=function(a,c){var d=l("query",!0,a);return d.data.query={type:"_data",limit:"JDB_MAX",param:c},b(d,a)},this.getOne=function(a,c){var d=l("query",!0,a);return d.data.query={type:"_data",limit:"JDB_SINGLE",param:c},b(d,a)}}function l(b,c,d){var e=$queryDB.buildOptions(a,d,b);if(!c)switch(b.toLowerCase()){case"push":case"syncstate":e.data.postData=$queryDB.DB.$getTable(a,d),e.data.action="overwrite";break;case"resource":var f=$queryDB.$getActiveDB(a).$get("resourceManager").getResource();e.data.postData=f}return e}function m(){b("Resource synchronization started");var a=l("resource","","");return a.type="PUT",ajax(a)}function n(c,d){$queryDB.DB.$mergeTable(c,d).then(function(c){$queryDB.$taskPerformer.localStorage.updateDB(a,d),b(c.message),g()},function(a){b(a.message),h()})}function o(c,d){var f=[],g=$queryDB.DB.$getTable(a,d),j=new $p;return c&&(A||(A=[d]),g&&p().then(function(a){if(f=a.data[d]){var h=e(f,g,c);if(h.hashChanged)return b("Lastest Update found on the Server"),B.conflictResolver&&$isFunction(B.conflictResolver)&&B.conflictResolver.apply(B.conflictResolver,[serverResponse,clientResponse]),void j.reject({status:"error",conflictRecord:f,code:402});i(),j.resolve({status:"success",pushRecord:C[d],code:200})}},function(a){b("unable to check for conflict, please check your internet setting"),h()})),j}function p(){return b("Pull  State Started"),new x($queryDB.$getActiveDB(a).$get("resourceManager").getResource()).getDBRecords()}function q(){return b("Pulling DB resource file"),ajax(l("resource",!0))}function r(a,c,d){b("Initializing Push State for table("+a+")"),d=d||"push";var e=l(d,!1,a);return c&&(c.columns.diff||(c.$hash=e.data.postData.$hash,e.data.postData=D.$get(a),e.data.action="update")),e.type="PUT",ajax(e)}function s(a){return b("Retrieving Table Records"),ajax(l("pull",!1,a))}function t(){for(var a in B.logger)console.log(B.logger[a])}function u(){var b=[],c=getStorageItem(a)||$queryDB.$getActiveDB(a).$get("resourceManager").getResource();return(c.tables||c.resourceManager)&&(b=Object.keys(c.tables||c.resourceManager)),$isArray(A)&&(b=A),{tables:b}}function v(b){if(b){var c=C[b],d=D.$get(b),e=[];if(c&&c.data&&c.data.delete){for(var f in c.data.delete){var g=expect(d.data.delete).search(c.data.delete[f].data);g||e.push(c.data.delete[f].data)}$queryDB.DB.$updateTableData(b,e),$queryDB.$taskPerformer.localStorage.updateDB(a,b)}D.$isResolved(b)}}function w(c,d){this.done=function(b){return function(c){if(c.data.removed.length){var e=getStorageItem($queryDB.$delRecordName);delete e[a],setStorageItem($queryDB.$delRecordName,e)}"Table"===b?new x(d).process():g()}},this.fail=function(a){b("Failed to synchronize, unabled to resolve with the server, please try again"),h()},this.process=function(){var d="dropTable",e=c.table,f="Droping "+JSON.stringify(Object.keys(e))+" Tables from the server",g="Table";c.database[a]&&(d="dropDataBase",e=c.database,f="Droping "+a+" Application from the server",g="Application"),b(f);var h=l(d,!0);new $p;h.data.remove=e,h.type="DELETE",ajax(h).then(this.done(g),this.fail)}}function x(a){function c(a,c){var d=k.tables[a];b("Synchronization started for table("+d+")"),new e(d)[c](),m++}function e(c){this.push=function(){function d(){l.push(c),j({state:"Error",failedTables:l},"push")}function e(a){b("Push completed for table("+c+")"),f(c,a),v(c),j({state:"Success"},"push")}function g(a){var b=a?"push":"syncState";r(c,a,b).then(function(a){var b=a.data.ok;b?e(a.data.$hash):d()},function(a){d()})}!a||a&&!a.resourceManager[c]?(b("New Table created and needs to sync with Server"),g(!1)):o(a,c).then(function(a){g(a.pushRecord.columns.diff?!1:a.pushRecord)},function(a){confirm("Update your table("+c+") with Server records (yes/no)")&&(b("Updating Local("+c+") with Server("+c+")"),n(a.conflictRecord,c))})},this.pull=function(){s(c).then(function(a){var b=a.data._data||JSON.stringify(d());p[c]=JSON.parse(b),j({state:"Success"},"pull")},function(a){l.push(c),j({state:"Error",failedTables:l},"pull")})}}function h(a){var c={push:function(a){g(),$queryDB.$taskPerformer.localStorage.del($queryDB.$delRecordName)},pull:function(){q.resolve({state:"Success",status:200,data:p})}};return function(d){i(),$isEqual(k.tables.length,m)&&(l.length?(b("synchronization failed for "+l.join(",")),B.handler.onError(dbErrorPromiseObject(d)),q.reject(d)):c[a](d))}}function j(a,b){k.tables.length>=m+1?c(m,b):h(b)(a)}var k=u(),l=[],m=0,p={},q=new $p;this.process=function(a){k.tables.length?c(m,"push"):h("push")({})},this.getDBRecords=function(){return c(m,"pull"),q}}function y(c){b("ProcessEntity State Started"),c&&(B.handler=c),B.serviceHost?B.dirtyCheker&&q().then(function(c){var d=c.data;if(d.resource){var e=getStorageItem($queryDB.$delRecordName),f=purifyJSON(d.resource);e&&e[a]?new w(e[a],f).process():new x(f).process()}else b("Server Resource was not found"),b("Creating new resource on the server"),m().then(function(a){var c=a.data.state;c?(b("Resource synchronized successfully"),new x(!1).process()):(b("Resource synchronization failed"),h())},function(){b("Resource synchronization failed, please check your network"),h()})},function(a){b("Pull Request has failed, please check your network"),b(a.data.error.message),h()}):(b("Error processing commit state, either serviceHost was not defined"),t())}function z(a){return a&&(B=extend({},B,a)),B.inProduction?new k:{processEntity:y,resource:q,pull:p,push:r,getSchema:j}}var A=null,B=$queryDB.$getActiveDB(a).$get("resolvers").networkResolver,C={},D=$queryDB.$getActiveDB(a).$get("recordResolvers");k.prototype.resource=q,k.prototype.getSchema=j,k.prototype.put=function(a,b){var c=l("push",!1,a),d=new $p;return c.data.postData=b,c.data.action="update",c.type="PUT",ajax(c).then(function(b){d.resolve(b.data),D.$isResolved(a).updateTableHash(b.data.$hash)},function(a){d.reject(a)}),d},k.prototype.delete=function(a,b){var c=l("delete",!0,a),d=new $p;return c.data.query=b,c.type="DELETE",ajax(c).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d},k.prototype.reAuthorize=function(a){var b=l("reauthorize",!1),c=new $p;return b.data.postData=a,b.type="POST",ajax(b).then(function(a){c.resolve(a.data)},function(a){c.reject(a)}),c},this.Entity=function(a){return A=maskedEval(a),{configSync:z}}}function sqlResultExtender(a,b){if($isObject(a))switch(a.state){case"select":a.jDBNumRows=function(){return b.length},a.getRow=function(a){return b[a]},a.getResult=function(){return b},a.first=function(){return b[0]},a.openCursor=function(a){var c=0,d={result:{value:[],continue:function(){b.length>c&&(d.result.value=b[c],c++,a(d)),a(null)},prev:function(){c&&c--,this.continue()},index:function(){return c}}};a(d.continue)},a.limit=function(a,c){return copy(b).splice(a,c)};break;case"insert":a.lastInsertId=function(){return tableInfo.lastInsertId},a.result=b;break;default:a.result=b}return a}function dbSuccessPromiseObject(a,b){return{state:a,status:"success",result:{message:b},code:200}}function dbErrorPromiseObject(a){return{message:a,status:"error",code:400}}function DBPromise(a,b){function c(b,c){a[c](b)}a&&(this.onSuccess=function(a){return c(a,"done"),this},this.onError=function(a){return c(a,"fail"),this},this.then=function(a,b){c(a,"done"),c(b,"fail")})}function liveProcessor(a,b){var c=new jEliDBSynchronization(b).Entity().configSync({});return function(d){if($queryDB.getNetworkResolver("live",b)){var e=$queryDB.$getActiveDB(b).$get("recordResolvers").$get(a);expect(["update","insert","delete"]).contains(d)&&c.put(a,e)}}}function jDBStartUpdate(a,b,c,d){function e(){var d=$queryDB.buildOptions(b,c,"update");d.data.ref=a,d.data.type=i,$isEqual(a,"table")&&(d.data.checksum=$queryDB.DB.getTableCheckSum(b,c)),ajax(d).done(function(a){$queryDB.DB.$resolveUpdate(b,c,a.data,!0).then(function(d){$queryDB.$taskPerformer.localStorage.updateDB(b,c,function(b){a.data.checksum&&(b.$hash=a.data.checksum)});var e;e=i?d[i]:d;var g=dbSuccessPromiseObject("onUpdate","");g.result.getData=function(a){return a&&e[a]?e[a]:[]},g.result.getCheckSum=function(){return a.data.checksum},g.result.getAllUpdates=function(){return e},j(g),f()})}).fail(function(){f()})}function f(){g=setTimeout(function(){e()},h)}var g,h,i,j=function(){};return function(a,c,d){return $isFunction(a)&&(j=a),$queryDB.getNetworkResolver("serviceHost",b)&&(h=c||1e3,f(c),i=d),{disconnect:function(){clearTimeout(g)}}}}function alterPluginFn(a,b){var c={c:"column",f:"foreign",p:"primary",u:"unique",m:"mode"};return function(d){a.length>2&&d.table(a[1]).onSuccess(function(d){var e=a[a.length-1],f=a[a.length-2],g="new",h=c[a[3]];switch(a[2]){case"add":case"a":$isEqual(h,"column")||(f=e,g="key"),d.result.Alter.add(g)[h](f,maskedEval(e)||e);break;case"drop":case"d":d.result.Alter.drop(a[3])}b.onSuccess(dbSuccessPromiseObject("alter","Table("+a[1]+") have been altered."))}).onError(b.onError)}}function apiPluginFn(a,b){return function(c){var d=a[2],e=a[1],f=maskedEval(a[3]),g=a[4]||"";c[a[0]](d,e,f,g).then(function(a){b.onSuccess.apply(b.onSuccess,[a])},function(a){b.onError.apply(b.onError,[a])})}}function createPluginFn(a,b){var c=a[1],d=maskedEval(a[2])||[];return function(a){c&&d&&a.createTbl(c,d).onSuccess(b.onSuccess).onError(b.onError)}}function deletePluginFn(a,b){var c=a[1],d=setCondition(a);return function(a){c&&d&&a.transaction(c,"writeonly").onSuccess(function(a){a.result.delete(d).execute().onSuccess(b.onSuccess).onError(b.onError)}).onError(b.onError)}}function dropPluginFn(a,b){return function(c){if(a.length>2){var d=simpleBooleanParser(a[3])||!1;switch(a[1].toLowerCase()){case"table":case"tbl":case"t":c.table(a[2]).onSuccess(function(a){var c=a.result.drop(d);$isEqual(c.status,"success")?b.onSuccess(c):b.onError(c)}).onError(b.onError);break;case"database":case"db":case"d":c.drop(d).onSuccess(function(a){$isEqual(a.status,"success")?b.onSuccess(a):b.onError(a)}).onError(b.onError);break;default:var e={state:"drop",message:a[1]+" command was not found, please type help for JDB command"};b.onError(e)}}}}function clearScreenPluginFn(a,b){var c={state:a[0],result:{message:null}};return function(a){return c.result.message=!0,b.onSuccess.apply(b.onSuccess,[c])}}function jExportPluginFn(a,b){var c={state:a[0],result:{message:null}};return function(d){if(a.length>2){var e=d.export(a[2]).initialize($queryDB.DB.$getTable(d.name,a[1]).data,a[5]);if(e&&!e.state){var f=null;switch(a[3]){case"d":f="download";break;case"p":case"c":f="print"}if(f)return c.result.message=e[f](a[4]),b.onSuccess.apply(b.onSuccess,[c])}return b.onError.apply(b.onError,[e])}}}function helperPluginFn(a,b){var c={state:a[0],result:{message:null}};return function(a){var d=a.jDBHelpers;return c.result.message=d.get(),b.onSuccess.apply(b.onSuccess,[c])}}function jImportPluginFn(a,b){({state:a[0],result:{message:null}});return function(c){var d=$queryDB.getNetworkResolver("logService",c.name);c.import(a[1],extend({logService:d,onselect:function(a,b){d("Processing selected file :"+a)}},b))}}function envPluginFn(a,b){var c={state:a[0],result:{message:null}};return function(d){var e=d.env[a[1]];if(e){var f=e();return $isObject(f)?(c.state=a[1],f.then(function(a){c.result.message=a,b.onSuccess.apply(b.onSuccess,[c])},function(a){b.onError.apply(b.onError,[a])}),!0):(c.result.message=f,b.onSuccess.apply(b.onSuccess,[c]))}return b.onError.apply(b.onError,[dbErrorPromiseObject("Invalid command passed, use -help for help")])}}function syncPluginFn(a,b){({state:a[0],result:{message:null}});return function(c){c.synchronize().Entity(a[1]).configSync().processEntity(b)}}function jUsersPluginFn(a,b){({state:a[0],result:{message:null}});return function(c){var d=c._users();if(!(d&&d[a[1]]&&a.length>2))return b.onError.apply(b.onError,[dbErrorPromiseObject("Invalid command passed, use -help for help")]);var e=maskedEval(a[2]);d[a[1]](e).then(b.onSuccess,b.onError)}}function insertPluginFn(a,b){var c=a[2],d=maskedEval(a[1])||[];return function(a){a.transaction(c,"writeonly").onSuccess(function(a){var c=a.result;c.insert.apply(c,d).execute().onSuccess(b.onSuccess).onError(b.onError)}).onError(b.onError)}}function selectPluginFn(a,b){var c,d,e=a;return function(f){function g(){d=expect(e[2]).contains(",")?e[2].split(","):e[2]}e.length>1&&(g(),f.transaction(d).onSuccess(function(d){if(c=d.result.select(e[1]),expect(a).contains("join")&&expect(a).contains("on")&&c.join(e[parseInt(a.indexOf("join")+1)]).on(e[parseInt(a.indexOf("on")+1)]),expect(a).contains("where")){var f=e.slice(parseInt(a.indexOf("where")+1)),g=f.join(""),h=$isJsonString(g)?maskedEval(g):g;c.where(h)}if(expect(a).contains("limit")){var i=e.slice(parseInt(a.indexOf("limit")+1));c.limit(i.join(""))}c.execute().onSuccess(b.onSuccess).onError(b.onError)}).onError(b.onError))}}function truncatePluginFn(a,b){return function(c){a.length>2&&c.table(a[1]).onSuccess(function(c){var d=simpleBooleanParser(a[2]),e=c.result.truncate(d);e.status.success?b.onSuccess(e):b.onError(e)}).onError(b.onError)}}function updatePluginFn(a,b){return function(c){a.length&&a.length>2&&c.transaction(a[1],"writeonly").onSuccess(function(c){c.result.update(a[2],setCondition(a)).execute().onSuccess(b.onSuccess).onError(b.onError)}).onError(b.onError)}}function $jElementProviderWatchListFn(a,b){for(var c=0,d=$directivesProviderWatchList.$get(b);c<d.length;)d[c++](a)}function getAttributes(){var a=this.attributes,b=[],c=0;if(!$isUndefined(a)&&!$isNull(a))for(c;c<a.length;c++)$isUndefined(a[c].nodeType)||b.push({name:a[c].nodeName,value:a[c].nodeValue||a[c].value});return b}function $attrDeepChecker(a){a&&a.length&&findInList.call(a,function(a,b){if(b.attr.length)for(var c in b.attr)b.attr[c].value.match(tplRegEx)&&(b.element.removeAttribute(b.attr[c].name),b.element.setAttribute(b.attr[c].name,$jCompiler(b.attr[c].value)(b.$$)))})}function isChildOfParent(a){return function(b){return b===a}}function $watchBlockFn(a,b){var c=$watchBlockList.$get(b);c.length>0&&domElementProvider.each(c,function(a,c){this.orig.nodeValue=$jCompiler(this.cNode.nodeValue)($modelMapping.$get(b))})}function $dirtyChecker(){var a=$attrWatchList.$getAll();if(a)for(var b in a)$attrDeepChecker(a[b])}function $attrWatcher(a){return function(b){var c=getAttributes.call(a.cloneNode(!0));addClass(a),findInList.call(c,function(c,d){$isNull(tplRegEx.exec(d.value))||$attrWatchList.$push(b.$mId,{element:a,attr:[d],$$:b})}),$dirtyChecker()}}function dirFound(a,b){return!!$isObject(a)&&(getDirectiveRestriction(a).indexOf(b)>-1&&a)}function isLocalName(a){if(a){var b=dirFound((new $dependencyInjector).get(camelCase.call(a)),"e");return!!b&&[[a,b]]}return!1}function isClass(a){var b=[];return a&&findInList.call(a.split(" "),function(a,c){var d=dirFound((new $dependencyInjector).get(camelCase.call(c)),"c");d&&b.push(d)}),!!b.length&&b}function hasAttribute(a){var b=[];return a.length&&findInList.call(a,function(a,c){if(!$inArray(c.name,["style","id","name","class","title","href"])){var d=dirFound((new $dependencyInjector).get(camelCase.call(c.name)),"a");d&&b.push([c.name,d])}}),!!b.length&&b}function $isDirective(a){return{isLocal:isLocalName(a.localName),isClassName:isClass(a.className),isAttribute:hasAttribute(getAttributes.call(a))}}function transverseClone(){this.transverse=transverseTemplate}function transverseCompiler(a){return function(b,c,d){if(findInProvider("jDebugProvider").$disableDebugMode||element(a).data({jModel:b.$mId}),a.tagName&&!$inArray(a.tagName.toLowerCase(),["script","link","head","title"])){var e=$isDirective(a);if(compileDefaultDirectiveProvider(a)(b,c),attachEventProviders(a)(b,c),e.isLocal||e.isClassName||e.isAttribute){d&&(a.innerHTML=d.innerHTML);var f=element(a),g=f.data("ignoreProcess");g||f.data({ignoreProcess:[]}),findInList.call(e,function(a,c){c&&findInList.call(c,function(a,c){initializeDirective(c)(f,b)})})}else{var h=getChildrenNode(a);h&&h.length&&transverseTemplate(a)(b,c,d),$attrWatcher(a)(b)}}else!a.tagName&&$isEqual(a.nodeType,Node.TEXT_NODE)&&textNodeCompiler(a)(b,c)}}function removeFilters(a){var b,c={filterModel:"",filterExpression:[],filterName:[]},d=removeSingleQuote(a).split("|");if(c.filterModel=$removeWhiteSpace(d[0]),d&&d.length>1){var e=d.slice(1);for(var b in e){var f=e[b].split(":");c.filterName.push($removeWhiteSpace(f.shift())),f.length>0&&c.filterExpression.push(f.join(":"))}}return c}function getChildrenNode(a){return $isObject(a)?a[0].parentNode.childNodes:a.childNodes}function setTemplateValue(a,b){var c=removeFilters(a),d=$modelSetterGetter(c.filterModel,b);if(c.filterName.length)for(var e in c.filterName)d=$filtersProviderFn(c.filterName[e])(c.filterExpression[e],d||c.filterModel,b);return $isUndefined(d)?"":d}function $evalTemplate(a,b,c){return c&&c.replace(this.pattern,function(b,c){return setTemplateValue(c,a)})}function $jCompiler(a){return function(b,c){var d=$isUndefined(a.outerHTML)?a:a.outerHTML,e=new _Template;e.init=$evalTemplate;var f=e.init(b,c,d);return a=$isUndefined(a.outerHTML)?f:toDOM.call(f)}}function textNodeCompiler(a){return function(b,c){if(!$isNull(new RegExp(/\{\%(.*?)\%\}/g).exec(a.nodeValue))){var d=(removeFilters(a.nodeValue),a.cloneNode(!0));$watchBlockList.$push(b.$mId,{cNode:d,orig:a,"$object:ref":c}),a.nodeValue=$jCompiler(a.nodeValue)(b)}}}function transverseTemplate(a){return function(b,c,d){var e=getChildrenNode(a),f=e.length-1,g=[];d&&(g=getChildrenNode(d)),e.length&&e&&isValidElement(a)&&domElementLoop(e,function(d,e){transverseCompiler(d)(b,c,g[e]);var h=getChildrenNode(a);if(e==f&&h.length-1>f)for(f;f<=h.length-1;f++)transverseCompiler(h[f])(b,c,g[e])})}}function compileDefaultDirectiveProvider(a){return function(b,c){findInList.call($defaultDirectiveProvider,function(d,e){var f=a.getAttribute(e)||$isEqual(a.localName,e),g=element(a).data({});if(f){var h=e.split("-")[1],i=a.getAttribute(e)||a.getAttribute("source");addClass(a);var j=g.data("ignoreProcess");$inArray(h,j||[])||(ignoreProcessCheck(a,h),$directivesProviderWatchList.$push(b.$mId,new defaultElementBinder(h,a,i,b,c).binded()))}})}}function $templateCompiler(a){return function(b,c){var d=getUID();return $isString(a)&&(a=element(a)),$isUndefined(a["$object:id"])&&!$isObject(a)?(a["$object:id"]=d,transverseCompiler(a)(b,d)):transverseTemplate(a)(b,d),
b.$watch(function(){$atp(d,b.$mId)}),a}}function jEliFnInitializer(a){var b=a.replace(/\W(;)/g,function(a,b){return a.indexOf(")")>-1?")|":"|"}).split("|");this.run=function(a){findInList.call(b,function(b,c){a[0]=c,execFnByName.apply(null,a)})},this.evaluate=function(b){maskedEval(a,b)}}function attachEventProviders(a){return function(b,c){$isEqual(a.nodeType,Node.ELEMENT_NODE)&&findInList.call("j-click,j-dblclick,j-submit,j-mouseover,j-mouseenter,j-mousemove,j-mousedown,j-mouseup,j-mouseleave,j-keyup,j-keydown,j-keypress,j-change,j-blur,j-focus".split(","),function(c,d){var e=a.getAttribute(d),f=element(a);if(e){var g=d.split("-")[1];if($inArray(g,f.data("ignoreProcess")||[]))return;$isEqual("change",g)&&!a.getAttribute("j-model")&&errorBuilder("jChange requires jModel to function with"),ignoreProcessCheck(a,g),f.bind(g,function(a){var c=element(this).data(),d=this;if(!$isUndefined(c))try{new jEliFnInitializer(c[g]).run(["",b,d,a])}finally{b.$consume()}}).addClass("j-binded")}})}}function $typeOfModel(a){return["checkbox","radio","select-one","select-multiple","password"].indexOf(a.type)>=0?"change":["text","textarea","email","url","week","time","search","tel","range","number","month","datetime-local","date","color"].indexOf(a.type)>=0?"input":void 0}function $typeOfValue(a){switch(a.type){case"checkbox":return a.checked;default:return a.value}}function getCommentNodes(a){var b=a.childNodes,c=[];for(var d in b)Number(d)&&b[d].nodeType===COMMENT_NODE&&c.push(b[d]);return c}function moveToUnwatchList(a){var b=$watchList.splice(a,1)[0];b.unWatchRef=b.obj[OBJ_REF],$unWatchList.push(b)}function getObjFromUnWatchList(a){var b=[];for(var c in $unWatchList)$unWatchList[c].obj[OBJ_REF]===a&&(b=$unWatchList.splice(c,1));return b[0]}function addClass(a,b){a&&domElementProvider.addClass.call([a],b?b:eliBindedClass)}function toDOM(a){var b,c=function(b){return b.indexOf("tr")>-1&&!a?"tbody":"div"},d=document,e=d.createElement(c(this)),f=d.createDocumentFragment();for(e.innerHTML=this.toString();b=e.firstChild;)f.appendChild(b);return a?f.childNodes:f.firstChild}function $CustomEventHandler(a,b){a||(a="on");var c={},d=function(){return{type:"",registered:+new Date,timestamp:+new Date,isTrusted:!0,returnValue:!0,target:null,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}}},e=b||noop;this[a]=function(a,b){c[a]||(c[a]=[]),c[a].push(b)},this.$broadcast=function(a,b){if(c[a]){var f=d();f.type=a,f.timestamp=+new Date,c[a].forEach(function(a){a.apply(a,[f,b]),f.defaultPrevented||e(f)})}},this.$destroy=function(a){a&&c[a]&&delete c[a]}}function buildLogic(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=:?><*&%$#@!",b=0,c=[],d=[];b<a.length;)c.push(a.charCodeAt(b++)),d.push(makeUID(2));return{charCode:c,replacer:d}}function $encrypt(){var a=buildLogic();return{encrypt:function(b){if(b&&b.length){for(var c=0,d="";c<b.length;)d+=a.replacer[a.charCode.indexOf(b.charCodeAt(c++))];return d}return b},decrypt:function(b){if(b&&b.length){var c=b.split(""),d="",e=0,b=[];for(var f in c)d+=c[f],e++,e>1&&(b.push(String.fromCharCode(a.charCode[a.replacer.indexOf(d)])),e=0,d="")}return b.join("")}}}function Base64Fn(){var a={};return a.encode=function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))},a.decode=function(a){return decodeURIComponent(Array.prototype.map.call(atob(a),function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))},a}function GUID(){function a(a,c){for(var d="",e=0;e<a;e++)d+=b();return d+(c||"")}var b=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return a(2,"-")+a(1,"-")+a(1,"-")+a(1,"-")+a(3)}function expect(a){var b={contains:function(b){return $isObject(a)?a.hasOwnProperty(b)||b in a:a.indexOf(b)>-1},search:function(b,c){var d=!1;if($isObject(a))for(var e in a)c&&$isFunction(c)?c(a[e],e)&&(d=a[e]):$isEqual(JSON.stringify(a[e]),JSON.stringify(b))&&(d=a[e]);else for(var f=a.length;f--;)c&&$isFunction(c)?c(a[f],f)&&(d=a[f]):$isEqual(JSON.stringify(a[f]),JSON.stringify(b))&&(d=a[f]);return d}};return b}function defineProperty(a,b,c){Object.defineProperty(a,b,{configurable:!1,enumerable:!1,writable:!1,value:c})}function fireEvent(a){return inUpdateProgress?void setTimeout(function(){inUpdateProgress=0,a()},1e3):(a(),void(inUpdateProgress=1))}function defaultElementBinder(a){function b(){function a(){var a=$typeOfModel(this.elem),b=$modelSetterGetter(this.checker,this.$model,!0),c=$typeOfValue(this.elem),d=this;this.isProcessed=!1,bind.call(this.elem,a,function(a){setModelValue(d.checker,d.$model,$typeOfValue(d.elem)),d.$model.$consume(),d.isProcessed=!0}),!b&&c&&(setModelValue(this.checker,this.$model,c),this.isProcessed=!0),this.canSetValue=$isEqual("input",a)}switch(this.type=c[0],this.elem=c[1],this.checker=c[2],this.$model=c[3],this.ref=c[4],this.watchListIndex=$directivesProviderWatchList.$get(c[3].$mId).length,this.type){case"for":case"do":case"include":case"if":var b=camelCase.call("j-"+this.type);this.cloneNode=this.elem.cloneNode(!0),this.cNode=toDOM.call("<!--"+b+" "+this.checker+"  -->"),this.cENode=toDOM.call("<!-- end "+b+" "+this.checker+"  -->"),this.parentNode=this.elem.parentNode,this.cache=[],this.parentNode.insertBefore(this.cNode,this.elem),this.parentNode.insertBefore(this.cENode,this.elem.nextSibling),expect(["for","include","do"]).contains(this.type)?(this.parentNode.removeChild(this.elem),this.isProcessed=!1,delete this.elem):$logicChecker(this.checker,this.$model)?this.isProcessed=!0:(this.parentNode.removeChild(this.elem),this.isProcessed=!1);break;case"model":a.call(this);break;case"controller":initializeController(this.elem)(this.$model,this.checker);break;case"init":new jEliFnInitializer(this.checker).evaluate(this.$model)}}var c=arguments;this.binded=function(){var c=new b;return function(b){$isEqual(b,c.ref)&&(defaultElementInitializer.prototype[a]||function(){}).apply(c)}}}function defaultElementInitializer(a){}function removeCacheElement(a){for(var b=a.length;b--;){var c=a[b];c.parentNode.removeChild(c),element(c).triggerHandler("remove")}}function ignoreProcessCheck(a,b){var c=element(a),d=c.data("ignoreProcess");return b?void($isUndefined(d)?c.data({ignoreProcess:[b]}):c.data("ignoreProcess").push(b)):d||[]}function organiseFoundElement(a,b){if(a.length&&a)for(var c=0;c<a.length;c++)a[c].className.indexOf(eliBindedClass)<0&&b.push(a[c]);return b}function getDirectiveRestriction(a){return(a.allowType||"AE").toLowerCase()}function findDirective(a,b){var c,d=a.split("");this.ret=[];for(c in d)switch(d[c].toLowerCase()){case"c":organiseFoundElement(document.getElementsByClassName("."+b),this.ret);break;case"e":organiseFoundElement(document.getElementsByTagName(b),this.ret);break;case"a":organiseFoundElement(document.querySelectorAll("["+b+"]"),this.ret)}return this.ret}function getParentControllerModel(a,b){return $isUndefined(a)?null:$controllers[b][a].$scope}function structureModel(a,b){return function(c,d){return $isObject(c)&&$isObject(d)&&domElementProvider.each(d,function(d,e){e.match(/[&@=]/g)&&($isEqual(e,"=")?a[d]=$modelSetterGetter(c[d],b):(e=e.split(/[&@=]/g)[1],a[d]=copy($modelSetterGetter(c[e],b))))}),a}}function $compileScope(a,b,c){var d,e=($isMyChild($0)(a),$0===a),f=$isObject(this.model),g=element(a).data("$model:id");return f?(d=(new $dependencyInjector).get("$rootModel").$new(),d.$$watchList=[],d.$$isIsolated=!0,addClass(a,"j-isolated-model")):d=e?$modelMapping.$get(g):c,$0=a,structureModel(d,c)(b,this.model)}function $compileAttribute(){var a={$$ele:this};return this.attributes&&findInList.call(getAttributes.call(this),function(b,c){c.name.indexOf("data-")>-1&&(c.name=c.name.replace("data-","")),a[camelCase.call(c.name)]=c.value}),a}function templateAppender(a){return function(b){b.innerHTML=a}}function directiveTemplateBuilder(a,b,c){var d=new $p,e=function(a){return $isFunction(a)?a.apply(null,[b,c]):a};if(a.template)templateAppender(e(a.template))(b),d.resolve(1);else if(a.templateUrl){var f=e(a.templateUrl),g=$provider.$get("$templateCache").get(f);g?(templateAppender(g)(b),d.resolve(1)):$http({url:f,cache:!0}).done(function(a){templateAppender(a.data)(b),d.resolve(1)})}else d.resolve(b.firstChild);return d}function jElementCompilerFn(){this.allowType="AE",this.replace=!1,this.model=!0,this.$compiler=function(a,b,c){return this.$init},this.$init=function(a,b,c){},this.template="",this.templateUrl=""}function initializeDirective(a){return function(b,c){if(!$inArray(a[0],b.data("ignoreProcess"))){var d,e=extend({},new jElementCompilerFn,a[1]);b[0]["$object:id"]=getUID();var f=$compileAttribute.call(b[0]);directiveTemplateBuilder(e,b[0],f).then(function(g){d=e.$compiler.apply(e,[b,f]);var h=$compileScope.call(e,b[0],f,c);b.addClass("j-binded").data({"$model:id":h.$mId}).data("ignoreProcess").push(a[0]),d.apply(d,[b,f,h]),g&&$templateCompiler(b[0])(h),$observeElement(b,h.$mId)})}}}function initializeController(a){return function(b,c){var d=c.split(" as "),e=d[0];if(!$inArray(e,ignoreProcessCheck(a))){var f=b.$new();$provider.$jControllerProvider.$initialize(e,f,null,d[1]);$0=a,addClass(a),ignoreProcessCheck(a,c),$templateCompiler(a)(f),$observeElement(a,f.$mId)}}}function $d(){this._done=[],this._fail=[],this.$$state={pending:!0,value:null,resolvedWith:""}}function $p(){var a=this;this.pending=[],this.resolve=function(b){a.complete("resolve",b)},this.reject=function(b){a.complete("reject",b)},this.$$state={pending:!0,value:null,resolvedWith:""}}function $chain(){return{delay:function(a){var b=new $p;return setTimeout(b.resolve,a),b}}}function $timeout(a,b){$isFunction(a)&&$chain().delay(b||0).then(a)}function findInProvider(a){if($provider.hasOwnProperty(a)){var b=$provider.$get(a);return function(){return b.$get?b.$get():b}()}return new $dependencyInjector(2).get(a)}function $dependencyInjector(a){this.inject=function(a,b,c,d){var e=[],f=0,g=a.$injector;if(g&&g.length)for(;f<g.length;f++){var h=g[f],i=null;if(h)switch(b){case"$jConfigProvider":case"$jProvideProvider":i=findInProvider(h);break;default:try{i=$inArray(h,["$scope","$model","model"])?c:this.get(h,b,d)}catch(a){}finally{if($isNull(i))throw new Error("Could not Find "+h+"Provider in "+b)}}e.push(i)}return e},this.get=function(b,c,d){if(d&&d[b])return d[b];if($publicProviders[b])return $publicProviders[b];var e=null,f=null,g=$compileTracker.injectors.$getAll();if(domElementProvider.each(g,function(a,d){if($isArray(d)){var g=d.filter(function(a){return a[1][0]===b});g&&g.length&&(f=g[0][0],e=$provider.$get(f).resolve(a,b,c),$isEqual(g[0][1][1],"unregistered")&&(e&&e.$injector&&(e=q(f,e)),$provider.$get(f).register(a,b,e),g[0][1][1]="registered"))}else $isEqual(a,b)&&(e=d)}),a&&$inArray(f,$provider.$restrictDebugMode[a])){var h=a<2?"Could not Find "+b+"Provider in "+f:"Cannot inject "+f+" in Config State";errorBuilder(h)}return e}}function binding(a,b){var c=function(){return a.apply(this,b)};return c.prototype=a.prototype,c}function q(a,b,c,d,e){if($isFunction(b)&&a){var f=(new $dependencyInjector).inject(b,a,c,e);if(d&&$isFunction(d))return d(f);switch(a){case"$jFactoryProvider":case"$jControllerProvider":return b.construct(f);case"$jServiceProvider":return binding(b,f);default:return b.apply(b,f)}}return b}function $injectorChecker(a){return $isFunction(a)?a.toString().match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].replace(/ /g,"").split(","):a}function $inject(a){var b,c;if($isArray(a)){var c=Array.prototype.slice.call(a,0);b=c.pop(),b.$injector=c}else if($isFunction(a)){var b=a;b.$injector=$injectorChecker(a)}return b}function r(a,b,c){var d=$inject(b);return $isObject(a)?a.jCompiler(c,d):q(a,d)}function $compileApp(){var a=$compileTracker.lastCompiledWith;($isEqual(a.nodeName,"HTML")||$isEqual(a.nodeType,document.DOCUMENT_NODE))&&(a=document.body,$compileTracker.lastCompiledWith=document),$0=$publicProviders.$rootElement=a,$templateCompiler(a)($publicProviders.$rootModel)}function moduleCompiler(a){var b=module.$get(a)._jQueue;if(b.length)for(var c=0;c<b.length;){var d=b[c++];switch(d[0]){case"$jElementProvider":case"jFilterProvider":case"$jFactoryProvider":var e=$provider.$get(d[0]),f=e.resolve(a,d[1][0]);e.register(a,d[1][0],q(d[0],f)),d[1][1]="registered"}}}function $jBootStrapApplication(){$isCompiled||(domElementProvider.each($compileTracker.compiledModule,function(a,b){module[b]&&($provider.$jConfigProvider.resolve(b),$provider.$get("$httpProvider").register(),$provider.$jInitProvider.resolve(b),moduleCompiler(b))}),$isCompiled=!0)}function $eliInitializer(a,b){if(a.length&&$isArray(b)){var c=b[0];$compileTracker.lastCompiledWith=a[0],$compileTracker.compiledModule=b,$compileTracker.injectors.$new("$rootModel",$publicProviders.$rootModel),$compileTracker.injectors.$new(c,module.$get(c)._jQueue),injectRequiredModule(module.$get(c).require),$jBootStrapApplication(),$compileApp(),$isAfterBootStrap=!0}}function queueBuilder(a,b){return[a,b]}function _defaultRegistry(a,b,c){return $compileTracker.injectors.$push(a,queueBuilder(b,[c,"unregistered"])),function(d){$provider.$get(b).register(a,c,$isFunction(d)?$inject(d):d)}}function injectRequiredModule(a){domElementProvider.each(a,function(a,b){$compileTracker.injectors.$new(b,module.$get(b)._jQueue),$provider.$jInitProvider.resolve(b),$provider.$jConfigProvider.resolve(b)})}function cBuild(){this.init=function(a){$provider.$get("$jInitProvider").register(this.appName,$inject(a))},this.jElement=function(a,b){return $isString(a)&&a.indexOf("-")<0&&!$isUndefined(b)&&(this._jQueue.push(queueBuilder("$jElementProvider",[a,"unregistered"])),$provider.$get("$jElementProvider").register(this.appName,a,$inject(b))),this},this.jProvider=function(a,b){return $isString(a)&&!$isUndefined(b)&&(this._jQueue.push(queueBuilder("$jProvideProvider",[a,"unregistered"])),$provider.$get("$jProvideProvider").register(this.appName,a,new b)),this},this.jFactory=function(a,b){return $isString(a)&&!$isUndefined(b)&&(this._jQueue.push(queueBuilder("$jFactoryProvider",[a,"unregistered"])),$provider.$get("$jFactoryProvider").register(this.appName,a,$inject(b))),this},this.jService=function(a,b){return $isString(a)&&!$isUndefined(b)&&(this._jQueue.push(queueBuilder("$jServiceProvider",[a,"unregistered"])),$provider.$get("$jServiceProvider").register(this.appName,a,$inject(b))),this},this.jConfig=function(a){var b=[$inject(a)];return this._jQueue.push(queueBuilder("$jConfigProvider",[name])),$provider.$get("$jConfigProvider").register(this.appName,b),this},this.jFilter=function(a,b){return $isUndefined(a)||$isUndefined(b)||(this._jQueue.push(queueBuilder("$jFilterProvider",[a,"unregistered"])),$provider.$get("$jFilterProvider").register(this.appName,a,$inject(b))),this},this.jController=function(a,b){return $isUndefined(a)||$isUndefined(b)||(this._jQueue.push(queueBuilder("$jControllerProvider",[a])),$provider.$get("$jControllerProvider").register(this.appName,a,$inject(b))),this},this.jValue=function(a,b){return $isUndefined(a)||$isUndefined(b)||(this._jQueue.push(queueBuilder("$jValueProvider",[a])),$provider.$get("$jValueProvider").register(this.appName,a,$isFunction(b)?b():b)),this},this.jCompiler=q,this.require=[],this._jQueue=[]}function $jModule(a,b){return module.hasOwnProperty(a)||(module[a]=new cBuild,module[a].appName=a,$factory[a]={},$service[a]={},$directivesProvider[a]={},$jValueProvider[a]={},module[a].require=[],arguments.length>1&&b.length>0&&(module[a].require=b)),module[a]}function copy(a){var b={};return $isArray(a)&&(b=[]),a&&a.nodeType?a.cloneNode(!0):$isFunction(a)?a:a instanceof Date?new Date(a.getTime()):a instanceof RegExp?new RegExp(a):extend(b,a)}function $http(a,b){return ajax.apply(ajax,arguments)}function jQueryResolver(a){return window.jQuery&&jQuery(a)||element(a)}function bind(a,b){$isEqual(this.nodeType,Node.ELEMENT_NODE)&&(this.addEventListener?this.addEventListener(a,b):this.attachEvent&&this.attachEvent("on"+a,b),addClass(this))}var $template={},$factory={},$service={},$controllers={},module={$get:function(a){return this[a]||errorBuilder("Module "+a+" was not found")}},injectors={},$watchBlockList=new watchBinding,$unWatchList=[],COMMENT_NODE=8,TEXT_NODE=3,$defaultDirectiveProvider=["j-controller","j-init","j-if","j-href","j-src","j-include","j-for","j-do","j-hide","j-show","j-class","j-style","j-disabled","j-model","j-value","j-html","j-checked","j-selected"],$directivesProvider={},$directivesProviderWatchList=new watchBinding,$modelObserverList=new watchBinding,$modelChildReferenceList=new watchBinding,$publicProviders={},$jValueProvider={},$attrWatchList=new watchBinding,$isCompiled=!1,$isDomLoaded=!1,$isBooleanValue="true | false | 1 | 0",$provider={$isExternalLoader:{status:!1},jDebugProvider:{$disableDebugMode:!1},$restrictDebugMode:["",["$jProvideProvider","$jElementProvider","$jServiceProvider","$httpProvider","$jValueProvider"],["$jElementProvider","$jControllerProvider","$jFactoryProvider","$jFilterProvider"]]},$isAfterBootStrap=!1,$directiveWatchList={},$rootModel=null,$modelMapping=new watchBinding,tplRegEx=new RegExp(/\{\%(.*?)\%\}/g),$eUID=0,$localStorage=window.localStorage,$sessionStorage=window.sessionStorage,$filtersProvider={},OBJ_REF="$object:ref",$templateWatcher=[],eliBindedClass="j-binded",$data={},EDS={},EUID=0,$queryDB={},$0=null,$$0=null,onReadyBound=!1,isReady=!1,DOMContentLoaded,readyCallbacks=[],cache=[],events={},$jModelWatchBlock={},$compileTracker={lastCompiledWith:null,compiledModule:null,injectors:new watchBinding},$isSupport={websql:!!window.openDatabase,sqlite:!!window.sqlitePlugin,canvas:!!document.createElement("canvas").getContext,history:!(!window.history||!history.pushState),jsonParser:!(!window.JSON||!window.JSON.parse),domParser:!!window.DOMParser,computedStyle:!!window.getComputedStyle,indexedDB:window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||!1,localStorage:!!window.localStorage||!1,slice:window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),isFormData:window.FormData,xhrFileUpload:!(!window.XMLHttpRequestUpload||!window.FileReader),fileReader:window.File&&window.FileReader&&window.FileList&&window.Blob,webWorker:!!window.Worker,dom:{cloning:function(){var a=document.createElement("div"),b=a.cloneNode();return a=null,!!b}(),qsa:!!document.querySelectorAll},css3:function(a){var b="Khtml Moz O Ms Webkit".split(" "),c=document.createElement("div").style,d=b.length,e=function(c){return"-"+b[c]+"-"+a};if(a in c)return a;for(;d--;)if(chk=b[d]+a.charAt(0).toUpperCase()+b[d].slice(1),chk in c)return e(d);return!1},browser:{moz:"MozAppearance"in document.createElement("div").style,webkit:"WebkitAppearance"in document.createElement("div").style,msie:"msTransform"in document.createElement("div").style,opera:"OAppearance"in document.createElement("div").style},env:{android:!!(navigator.userAgent.match(/Android/i)||[]).length,blackBerry:!!(navigator.userAgent.match(/BlackBerry/i)||[]).length,ios:!!(navigator.userAgent.match(/iPhone|iPad|iPod/i)||[]).length,opera:!!(navigator.userAgent.match(/Opera Mini/i)||[]).length,windows:!!(navigator.userAgent.match(/IEMobile/i)||[]).length,chrome:!!(navigator.userAgent.match(/chrome/i)||[]).length,firefox:!!(navigator.userAgent.match(/firefox/i)||[]).length,safari:!!(navigator.userAgent.match(/safari/i)||[]).length,ie:/Edge\/|Trident\/|MSIE /.test(navigator.userAgent),ieg10:/Edge\/|Trident\/| /.test(navigator.userAgent)},cookieEnabled:navigator.cookieEnabled},$eliFilters="json|date|uppercase|lowercase|capitalize|number|".split("|"),unsafeHeaders={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};$isSupport.env.mobile=function(a){return a.android||a.blackBerry||a.ios||a.opera||a.windows||!1}($isSupport.env);var noop={get:function(){return{}},set:function(a,b){this[a]=b}},trim="".trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};Function.prototype.construct=function(a){var b=Object.create(this.prototype),c=this.apply(b,a);return c};var isArrayKey=new RegExp(/.*\[(\d+)\]/);$modelGenerator.prototype.constructor=$modelGenerator,$modelGenerator.prototype.$new=createNewModelInstance,$modelGenerator.prototype.$$beginPhase=function(a){if(this.$$phase)throw this.$$phase+" phase is already in progress";this.$$phase=a},$modelGenerator.prototype.$$destroyPhase=function(){this.$$phase=null},$modelGenerator.prototype.$evaluate=function(a){return $isFunction(a)?a(this):maskedEval(a,this)},$modelGenerator.prototype.$apply=function(a){try{return this.$$beginPhase("$apply"),this.$evaluate(a||function(){})}finally{this.$$destroyPhase(),this.$consume()}},$modelGenerator.prototype.$watch=$watch,$modelGenerator.prototype.$consume=$consume,$modelGenerator.prototype.$$areEqual=function(a,b){var c=!1;return $isObject(b)||$isArray(b)?c=JSON.stringify(a).length===JSON.stringify(b).length:$isNumber(b)?c=Number(a)===Number(b):$isString(a)&&(c=b.length===a.length),c},$modelGenerator.prototype.$on=function(a,b){var c=this.$$subscribers[a],d=this;return c||(this.$$subscribers[a]=c=[]),c.push(b),function(){d.$$subscribers[a].pop()}},$modelGenerator.prototype.$publish=function(a){function b(c,d){var e=$modelChildReferenceList.$get(c.$mId);a&&c.$$subscribers[a]&&c.$$subscribers[a].forEach(function(a){a.apply(c,d)}),e.forEach(function(a,c){var f=$modelMapping.$get(e[c]);b(f,d)})}var c=this;return function(){var a=arguments;b(c,a)}},$modelGenerator.prototype.$$destroy=function(){this.$publish("$destroy")(this);var a=this.$mId;$removeAllBinding(a);var b=this.$parent;$modelChildReferenceList.$get(a).forEach(function(a){$removeAllBinding(a)}),$modelChildReferenceList.$new(b.$mId,$modelChildReferenceList.$get(b.$mId).filter(function(b){return b!==a}))},$provider.$get=function(a){return this[a]||(this[a]=new $providerFn(a)),this[a]},$provider.$templateCache=new $templateFactory,$provider.$jControllerProvider=new jControllerProvider,$provider.$jConfigProvider=new jConfigProvider,$provider.$httpProvider=new $httpProvider,$provider.$jInitProvider=new jRunProvider;var ignoreList=["$mId","$$isIsolated","$$asyncQueue","$$subscribers","$previous","$next","$$watchList","$$phase","$child","$$broadcast","$parent","$$childModel"];events.add=function(a,b,c){if(isValidElement(a)){if(events.special[b]){var d=events.special[b];d.setup.call(a),c=d.add(c)}var e=createResponder(a,c);cache.push({element:a,type:b,handler:c,responder:e,event:Event(b)}),b.match(/:/)&&a.attachEvent?a.attachEvent("ondataavailable",e):a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&a.attachEvent(IEType(b),e)}},events._data=function(a,b,c){for(var d=[],e=0;e<cache.length;e++)cache[e].type===a&&cache[e].element===b&&(d.push(cache[e]),c&&d.push(e));return d},events.remove=function(a,b,c){if(isValidElement(a)){var d=this._data(b,a,!0),e=null;d.length&&(e=d[0].responder,removeCachedResponder(d[1])),document.removeEventListener?a.removeEventListener(b,e,!1):a.detachEvent(IEType(b),e)}},events.ready=function(a){bindOnReady(),readyCallbacks.push(a)},events.special={},events.addDomMethods=function(){if(!$isUndefined(domElementProvider)){domElementProvider.bind=function(a,b){for(var c,d=0;d<this.length;d++)c=this[d],b&&events.add(c,a,b);return this},domElementProvider.unbind=function(a){for(var b,c=0;c<this.length;c++)b=this[c],events.remove(b,a),events.special[a]&&events.special[a].remove&&events.special[a].remove.call(b);return this},domElementProvider.on=function(a,b,c){if($isObject(a)){var d=this;findInList.call(a,function(a,b){d.bind(a,b)})}else if(c)events.delegate(this[0],b,a,c);else{var c=b;this.bind(a,c)}return this};for(var a="click dblclick mouseover mouseout mousemove mousedown mouseup blur focus change keydown keypress keyup resize scroll".split(" "),b=0;b<a.length;b++)!function(a){domElementProvider[a]=function(b){return this.bind(a,b)}}(a[b])}},"undefined"!=typeof document&&(document.addEventListener?DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),ready()}:document.attachEvent&&(DOMContentLoaded=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",DOMContentLoaded),ready())}));var domElementProvider={not:function(a){return this.is(a,1)},each:function(a,b){function c(a){var b=[];return domElementLoop(a,function(a){b.push(a)}),b}var d,e=0;if($isFunction(a)&&(b=a,a=$isArray(this[0])||$isObject(this[0])?this[0]:c(this)),$isFunction(b))if($isArray(a))for(;e<a.length&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},ready:eliready,addClass:function(a){if(this)return domElementLoop(this,function(b){if(!$hasClass.call(b,a)){var c=b.className.split(" ");c.push(a),b.className=c.join(" ")}}),this},removeClass:function(a){if(this)return domElementLoop(this,function(b){if($hasClass.call(b,a)){var c=b.className.split(" ");c.splice(c.indexOf(a),1),b.className=c.join(" ")}}),this},css:function(a,b){function c(a,b,c){a.style[b]=$inArray(b,["width","height","top","bottom","left","right"])&&$isNumber(c)?c+"px":c}{if(!a||b||!$isString(a))return domElementLoop(this,function(d){if(d.tagName&&!$isUndefined(d))if(!$isObject(a)&&b)c(d,a,b);else for(var e in a)c(d,e,a[e])}),this;if($isSupport.computedStyle){var d=window.getComputedStyle(this[0])[a];return parseInt(d)||d}}},val:function(a){var b,c=this[0];return $isUndefined(a)?b=c.value:(c.value=a,b=c),b},clone:function(a){var b="";return $isSupport.dom.cloning&&(b=this[0].cloneNode(a)),b},append:function(a){var b=arguments,c=this;return domElementLoop(b,function(a){$isString(a)&&(a=element(a)),domElementLoop(c,function(b){domElementLoop(a,function(c){b.appendChild(c),a["$object:id"]&&(b["$object:id"]=a["$object:id"])})})}),this},find:function(a){return this.length?findInElement(this,a):[]},prepend:function(a){var b=arguments,c=this;return domElementLoop(b,function(a){domElementLoop(c,function(b){domElementLoop(a,function(a){insertBefore(a,b)})})}),this},prependTo:function(a){var b=this,c=arguments;if($isObject(a))domElementLoop(c,function(a){insertBefore(a[0],b[0])});else{var d=element(a);d.length>0&&(1===d.length?insbef(d[0],b[0]):d.prepend(b[0]))}return this},removeAttr:function(a){return domElementLoop(this,function(b){$isUndefined(b)||b.getAttribute(a)&&b.removeAttribute(a)}),this},attr:function(a,b){return b||!a||$isObject(a)?(domElementLoop(this,function(c){$isString(a)&&$isString(b)?c.setAttribute(a,b):$isObject(a)&&domElementProvider.each(a,function(a,b){c.setAttribute(a,b)})}),this):this[0].getAttribute(a)},remove:function(){return domElementLoop(this,function(a){a.parentNode&&a.parentNode.removeChild(a)}),element(document).triggerHandler("jEli.event.remove"),this},getFirstChild:function(){return this[0].nodeType===document.ELEMENT_NODE&&this[0].firstChild?this[0].firstChild:[]},text:function(a){if(!this.length)return this;var b;return a?domElementLoop(this,function(c){b=dis,$isObject(html)?c.innerText=a[0].innerText:c.innerText=a}):b=this[0].innerText,b},html:function(a){if(!this.length)return this;var b,c=this;return domElementLoop(this,function(d){a?(d.innerHTML="",b=c,$isObject(a)?d.appendChild(a[0]):d.innerHTML=a):b=d.innerHTML}),b},appendTo:function(a){var b=this,c=arguments;if($isObject(a))domElementLoop(c,function(a){a[0].appendChild(b[0])});else{var d=element(a);d.length>0&&(1===d.length?d[0].appendChild(b[0]):d.append(b.clone(1)))}return this},after:function(a){return this[0].parentNode.insertBefore(a,this[0].nextSibling),this},hasClass:function(a){if(this)return $hasClass.call(this[0],klass)},empty:function(){return domElementLoop(this,function(a){for(;a.firstChild;)a.removeChild(a.firstChild)}),element(document).triggerHandler("jEli.event.remove"),this},add:function(a){return $isArray(this[0])&&this[0].push(a),this},getLength:function(a){return a=$isUndefined(a)?this[0]:a,$isArray(a)?a.length:$countObject(a)},data:function(a,b){if(this.length){var c=this[0],d=function(){var a=e(c);return EDS[a]||(EDS[a]=extend({},h())),EDS[a]},e=function(a){if(isValidElement(a))return a[OBJ_REF]||(a[OBJ_REF]=EUID++),a[OBJ_REF]?a[OBJ_REF]:EUID},f=function(){!b&&$isObject(a)?EDS[e(c)]=extend(d(),a):EDS[e(c)][a]=b},g=function(){return a&&!b&&"string"==typeof a?d()[a]:d()},h=function(){var a,b,d=c.attributes,e={};if(d&&d.length)for(b=0;b<=d.length-1;b++)d[b].nodeName.indexOf("-")>-1&&(a=$isJsonString(d[b].value)&&!tplRegEx.test(d[b].value)?maskedEval(d[b].value)||d[b].value:d[b].value,e[d[b].nodeName.split("-").slice(1).join("")]=a);return e};if(2!==arguments.length&&!$isObject(a))return g();f()}return this},removeData:function(a){if(a&&this[0]){var b=this.data();delete b[a],this.data(b)}return this},jID:function(){var a=this[0];return a.id?a.id:mkID()},jModel:function(){if(!findInProvider("jDebugProvider").$disableDebugMode)return $modelMapping.$get(this.data("jModel"))},height:function(){return this[0].clientHeight||this[0].innerHeight||-1},width:function(){return this[0].clientWidth||this[0].innerWidth||-1},outerWidth:function(){return this[0].offsetWidth||-1},outerHeight:function(){return this[0].offsetHeight||-1},position:function(){var a=this[0];return{left:a.offsetLeft,top:a.offsetTop}},injector:function(){if(this[0]===$compileTracker.lastCompiledWith)return new $dependencyInjector(1)},hash:function(a){if($isArray(this[0])||$isObject(this[0])){var b={};return this.each(function(c,d){a?b[c]=d:b[d]=c}),element(b)}return this},reverseHash:function(){return this.hash(!0)},get:function(a){return this[a]},triggerHandler:function(a){var b=events._data(a,this[0]);b.length&&this[0].dispatchEvent&&this[0].dispatchEvent(b[0].event)},trigger:function(a,b){var c=element.Event.apply(null,arguments);domElementLoop(this,function(a){a.dispatchEvent(c)})},contains:function(a){return this[0]!==a&&this[0].contains(a)},compile:function(a){var b=$publicProviders.$rootModel.$new();return a&&$isObject(a)&&(a.hasOwnProperty("$mId")&&$modelMapping.$get(a.$mId)?b=a:extend(b,a)),$templateCompiler(this[0])(b)},is:function(a,b){if(a){var c=$isArray(this[0]),d=c?[]:{},e=function(a,b){c?d.push(b):d[a]=b};return this.each(function(c,d){var f=!1;$isFunction(a)?a.apply(null,[d])&&(f=!0):$isEqual(d,a)&&(f=!0),f&&!b&&e(c,d),!f&&b&&e(c,d)}),element(d)}}};events.addDomMethods(),element.support=$isSupport,element.events=events,element.fn=domElementProvider,element.Event=Event,element.contains=function(a,b){return element(a).contains(b)};var elemsToRemove=element([]);if(events.special.remove={setup:function(){elemsToRemove=elemsToRemove.add(this),1===elemsToRemove.getLength()&&element(document).on("jEli.event.remove",handle_removed_events)},add:function(a){function b(a){var b=a.target,d=b===document.body;document.body.contains(b)||d||(c.apply(this,arguments),element(b).unbind(a.type))}var c;return $isFunction(a)?(c=a,b):(c=a.handler,void(a.handler=b))},remove:function(){elemsToRemove=elemsToRemove.not(this)}},window.jQuery){jQuery.support=$isSupport,jQuery.fn.injector=domElementProvider.injector,jQuery.fn.jModel=domElementProvider.jModel,jQuery.fn.compile=domElementProvider.compile,jQuery.fn.getFirstChild=domElementProvider.getFirstChild,jQuery.cookie=$cookie;for(var fns in jQuery.fn)domElementProvider[fns]||(domElementProvider[fns]=jQueryExtraParser(fns))}$queryDB.DB={openedDB:new watchBinding,$setActiveDB:function(a){return $queryDB.$activeDB=a,this},$set:function(a,b){return this[a]=b,this},$get:function(a){return this[a]},$getTable:function(a,b){return!!(b&&a&&this[a]&&this[a].tables[b])&&this[a].tables[b]},$mergeTable:function(a,b){var c=new $p;if(a&&b){var d=this.$get($queryDB.$activeDB);d&&d.tables[b]?(this.$newTable($queryDB.$activeDB,b,a),c.resolve({status:"success",message:"Table("+b+") updated successfully",code:200})):c.reject({status:"error",message:"Unable to merge Table("+b+")",code:403})}else c.reject({
status:"error",message:"Undefined Records and Table",code:404});return c},$resolveUpdate:function(a,b,c){var d=new $p;if(a&&b&&c){var b=this.$getTable(a,b),e=["update","delete","insert"],f={},g={update:[],delete:[],insert:[]};f.update=function(a){expect(b.data).search(null,function(c,d){g.update.push(c._data),a.forEach(function(a){c._ref===a._ref&&(b.data[d]=a)})})},f.delete=function(a){b.data=b.data.filter(function(b){return g.delete.push(b._data),!$inArray(b._ref,a)})},f.insert=function(a){a.forEach(function(a){b.data.push(a),g.insert.push(a._data)})},b&&(e.forEach(function(a){c[a]&&c[a].length&&f[a](c[a])}),d.resolve(g))}else d.reject();return d},removeTable:function(a,b){return delete this[b].tables[a]},removeDB:function(a){return this[a]?(delete this[a],delStorageItem(a),updateDeletedRecord("database",{name:a}),dbSuccessPromiseObject("drop","Database("+a+") have been dropped")):dbErrorPromiseObject("Unable to drop Database("+a+")")},$newTable:function(a,b,c){return this[a].tables[b]=c,!0},$updateTableData:function(a,b){var c=this[$queryDB.$activeDB].tables[a];return c&&c.data.push.apply(c.data,b),this},getTableCheckSum:function(a,b){return this.$getTable(a,b).$hash},isOpen:function(a){return!!this.openedDB[a]||(this.openedDB.$new(a,new watchBinding),this.openedDB.$get(a).$new("resolvers",new openedDBResolvers),this.openedDB.$get(a).$new("resourceManager",new resourceManager(a)),void this.openedDB.$get(a).$new("recordResolvers",new DBRecordResolvers(a)))},closeDB:function(a,b){delete this.openedDB[a],b&&this.removeDB(a)}},$queryDB.$getActiveDB=function(a){return this.DB.openedDB.$get(a||this.$activeDB)},$queryDB.$dbName="_resourceManager",$queryDB.accessStorage="jEliAccessToken",$queryDB.stack=[],$queryDB.$taskPerformer={},$queryDB.$delRecordName="_deletedRecordsManager",$queryDB.$activeDB=null,$queryDB.getNetworkResolver=function(a,b){return this.$getActiveDB(b).$get("resolvers").getResolvers(a)||""},$queryDB.getNonce=function(a){var b=this.getNetworkResolver("nonce",a);return b},$queryDB.buildOptions=function(a,b,c){var d={},b=$isArray(b)?JSON.stringify(b):b,e=$cookie("X-CSRF-TOKEN");return d.url=this.getNetworkResolver("serviceHost",a),d.data={},d.dataType="json",d.contentType="application/json",d.headers={Authorization:"Bearer *"},e&&(d.headers["X-CSRF-TOKEN"]=e),(this.getNetworkResolver("interceptor",a)||function(){})(d,c),d.data._o=window.location.origin,d.data._p=window.location.pathname,d.data._h=window.location.host,d.data._r=(new Base64Fn).encode(a+":"+c+":"+(b||"")+":"+ +new Date+":"+this.getNonce(a)),d.getResponseHeader=function(a){var b=a("X-CSRF-TOKEN");b&&$cookie("X-CSRF-TOKEN",b)},d},$queryDB.$storage=$isSupport.localStorage&&new jDBStorage("localStorage"),defineProperty($queryDB.stack,"push",function(){return fireEvent.apply(null,arguments),0}),$queryDB.$taskPerformer.localStorage={updateDB:function(a,b,c){if(a){var d;b&&(d=$queryDB.DB.$getTable(a,b),d&&(d.lastModified=+new Date,c&&$isFunction(c)&&c.apply(c,[d]))),setStorageItem(a,$queryDB.DB.$get(a));var e=$queryDB.$getActiveDB().$get("resourceManager").getResource();if(e){if(e.lastUpdated=+new Date,b&&d){e.resourceManager[b]||(e.resourceManager[b]={$hash:null,lastModified:null,created:null,_ref:null});for(var f in e.resourceManager[b])e.resourceManager[b][f]=d[f]}$queryDB.$getActiveDB().$get("resourceManager").setResource(e)}e||this.storageChecker(a)}},updateDeletedRecord:updateDeletedRecord,set:setStorageItem,get:getStorageItem,del:delStorageItem,initializeDB:function(a){if(!$queryDB.$getActiveDB().$get("resourceManager").getResource())return!1;var b=getStorageItem(a),c=getStorageItem($queryDB.$delRecordName);return!!b&&($queryDB.DB.$set(a,b),c&&$queryDB.$getActiveDB().$get("resolvers").register("deletedRecords",c),!0)},storageChecker:function(a){$queryDB.$getActiveDB().$get("resourceManager").setResource(getDBSetUp(a))}},DBEvent.prototype.createTbl=function(a,b){var c=new $d,d={state:"create"};if(a&&!$queryDB.DB.$getTable(this.name,a)){if($isObject(b)){var e=[];e.push(b),b=e,e=null}var f=this.name,g=+new Date;$queryDB.DB.$newTable(this.name,a,{columns:b||[{}],data:[],DB_NAME:f,TBL_NAME:a,primaryKey:null,foreignKey:null,lastInsertId:0,allowedMode:{readwrite:1,readonly:1},created:g,lastModified:g,$hash:GUID(),_$:1}),$queryDB.stack.push(function(){$queryDB.$taskPerformer.localStorage.updateDB(f,a)}),d.result=new jEliDBTBL($queryDB.DB.$getTable(f,a)),d.result.message="Table("+a+") created successfully",c.resolve(d)}else d.message=a?"Table("+a+") already exist":"Table name is required",d.errorCode=402,c.reject(d);return new DBPromise(c)},DBEvent.prototype.table=function(a,b){var c=new $d;return a&&$queryDB.DB.$getTable(this.name,a)?c.resolve({result:new jEliDBTBL($queryDB.DB.$getTable(this.name,a),b)}):c.reject({message:"There was an error, Table ("+a+") was not found on this DB ("+this.name+")",errorCode:401}),new DBPromise(c)},DBEvent.prototype.jQl=function(a,b){var c=$remArrayWhiteSpace(a.split(/(?:-)/gi),$remLastWhiteSpace),d=customPlugins.$getAll(),e=c[0].toLowerCase();return c&&d[e]?d[e].fn(c,b)(this):b.onError(dbErrorPromiseObject("Invalid command passed, use -help for help"))},DBEvent.prototype.export=function(a){function b(a){var b=[];for(var c in a)b.push(a[c]);return b}var a=a||"csv",c=new jExport(a);return{initialize:function(d,e){return d?($isEqual(a,"json")?c.put(d):(c.open(e),c.row(Object.keys(d[0]._data)),findInList.call(d,function(a,d){c.row(b(d._data))})),c.close()):dbSuccessPromiseObject("export","unable to export data, invalid table data")}}},DBEvent.prototype.import=function(a,b){function c(){function c(c){e.transaction(a,"writeonly").onSuccess(function(a){a.result.insert.apply(a.result,c).execute().onSuccess(function(a){b.logService(a.result.message)}).onError(function(a){b.logService(a.message)})}).onError(function(a){hanler.logService(a.message)})}function f(b,c){b.length&&e.table(a).onSuccess(function(a){var d=a.result,e=d.columns;for(var f in b)e[b[f]]||d.Alter.add("new").column(b[f],{type:typeof c[b[f]]})})}this.onSuccess=function(g){if(b.logService("Imported "+g.data.length+" records"),g.skippedData.length&&b.logService("Skipped "+g.skippedData.length+" records"),d){b.logService("Creating table: "+a);var h=g.columns,i={};for(var j in h)i[h[j]]={type:typeof g.data[0][h[j]]};e.createTbl(a,i).onSuccess(function(a){b.logService(a.result.message),c(g.data)}).onError(function(a){b.logService(a.message)})}else f(g.columns,g.data[0]),c(g.data);b.onSuccess&&b.onSuccess(dbSuccessPromiseObject("import","Completed without errors"))},this.onError=function(a){b.logService(a),b.onError(dbErrorPromiseObject("Completed with errors"))},b.onselect&&(this.onselect=b.onselect)}var d=!1,e=this,f={logService:function(a){errorBuilder(a)},onSelect:function(){},onSuccess:function(){},onError:function(){}};return b=b||f,a&&$isString(a)?($queryDB.DB.$getTable(this.name,a)||b.logService&&(b.logService("Table("+a+") was not found!!"),d=!0),(new jFileReader).start(new c)):(b.logService("Table is required"),!1)},DBEvent.prototype.jDBHelpers=new jCMDHelpers,DBEvent.prototype.list_tables=function(){var a={},b=$queryDB.DB[this.name];return b&&findInList.call(b.tables,function(b,c){a[b]={records:(c.data||[]).length,columns:c.columns,primaryKey:c.primaryKey,foreignKey:c.foreignKey,allowedMode:"readwrite"}}),a},DBEvent.prototype.synchronize=function(){return new jEliDBSynchronization(this.name)},DBEvent.prototype.transaction=function(a,b){function c(b){return $queryDB.DB.$getTable(d,b)?$queryDB.DB.$getTable(d,b):void g.push("There was an error, Table ("+a+") was not found on this DB ("+d+")")}var d=this.name,e=new $d;if(a){var f=null,g=[],h=!1;if($isArray(a)){f={};for(var i=a.length;i--;){var j=a[i],k=j;if(expect(j).contains(" as ")){var l=j.split(" as ");l.filter(function(a,b){return l[b]=$removeWhiteSpace(a),1}),j=l.shift(),k=l.pop()}f[k]=c(j)}b="read",h=!0}else f=c(a);g.length?e.reject({message:g.join("\n"),errorCode:401}):e.resolve({result:new jTblQuery(f,b,h),tables:a,mode:b})}return new DBPromise(e)},DBEvent.prototype._users=function(){function a(a){if($isObject(a)){var b={time:+new Date,access:"*",_ref:GUID()},c=extend({},b,a),d={data:{insert:[c]}};h.api("POST","/create/user",d,f).then(function(a){var b=dbSuccessPromiseObject("createUser","User Created successfully");a.result.access_info?(b.result.getUserInfo=function(){return a.result._rec[0]},b.result.getAccessToken=function(){return a.result.access_info},b.getResponseData=function(){return a.result}):b.result.data=a.result,a.result.ok?g.resolve(b):g.reject(dbErrorPromiseObject("Failed to register User"))},function(){g.reject(dbErrorPromiseObject("Failed to register User"))})}return i}function b(a){return $isObject(a)&&e.delete(f,[a]).then(function(a){g.resolve(dbSuccessPromiseObject("removeUser","User removed successfully"))},function(){g.reject(dbErrorPromiseObject("Failed to remove User"))}),i}function c(a){return a&&h.api("POST","/update/user",{data:{update:[a]}},f).then(function(a){a.state="updateUser",a.result.message="User Updated successfully",g.resolve(a)},function(){g.reject(dbErrorPromiseObject("Failed to update User, please try again later"))}),i}function d(a){var b={param:a,limit:"JDB_SINGLE"};return h.api("POST","/authorize/user",b,f).then(function(a){var b=dbSuccessPromiseObject("authorize",""),c=a.result._rec.length;b.result.getUserInfo=function(){return a.result._rec[0]},b.result.getAccessToken=function(){return a.result.access_info},c?g.resolve(b):g.reject(dbErrorPromiseObject("Unable to log user in"))},function(){g.reject(dbErrorPromiseObject("Unable to log user in"))}),i}var e=new jEliDBSynchronization(this.name).Entity().configSync({}),f="_users",g=new $d,h=this,i=new DBPromise(g);return{add:a,remove:b,authorize:d,updateUser:c}},DBEvent.prototype.drop=function(a){var b=new $d;return a?b.resolve($queryDB.DB.removeDB(this.name)):b.reject({message:"Unable to drop DB, either invalid flag or no priviledge granted!!",errorCode:401}),new DBPromise(b)},DBEvent.prototype.replicate=function(){var a=new $d;return new DBPromise(a)},DBEvent.prototype.close=function(a){$queryDB.DB.closeDB(this.name,a)},DBEvent.prototype.api=function(a,b,c,d){expect(b).contains("/")&&(b=b.split("/"),b.shift(),b=camelCase.call(b.join("-")));var e=$queryDB.buildOptions(this.name,d,b),f=new $p;return e.type=a||"GET",c&&(e.data.postData=c),ajax(e).then(function(a){var b=dbSuccessPromiseObject("api","");b.result=a.data,f.resolve(b)},function(a){f.reject(a.data.error)}),f};var customPlugins=new watchBinding;jEliDB.plugins={jQl:function(a,b){a&&$isObject(b)&&customPlugins.$new(a,b)}},jEliDB.plugins.jQl("alter",{help:["Alter -table] -a -c -columnName [config]","Alter -[tbl_name] -a -p -columnName","Alter -[tbl_name] -a -f -columnName -[relative table]","Alter -[tbl_name] -d -columnName","Alter -[tbl_name] -a -m -[read : write]"],fn:alterPluginFn}),jEliDB.plugins.jQl("api",{help:"api -url -post -data",fn:apiPluginFn}),jEliDB.plugins.jQl("create",{help:"",fn:createPluginFn}),jEliDB.plugins.jQl("delete",{help:"",fn:deletePluginFn}),jEliDB.plugins.jQl("drop",{help:"",fn:dropPluginFn}),jEliDB.plugins.jQl("cls",{help:"",fn:clearScreenPluginFn}),jEliDB.plugins.jQl("export",{help:"",fn:jExportPluginFn}),jEliDB.plugins.jQl("help",{help:"",fn:helperPluginFn}),jEliDB.plugins.jQl("import",{help:"import -[table name] -[insert]",fn:jImportPluginFn}),jEliDB.plugins.jQl("env",{help:"",fn:envPluginFn}),jEliDB.plugins.jQl("sync",{help:"",fn:syncPluginFn}),jEliDB.plugins.jQl("_users",{help:"",fn:jUsersPluginFn}),jEliDB.plugins.jQl("insert",{help:"",fn:insertPluginFn}),jEliDB.plugins.jQl("select",{help:["select -[fields] -[table] -Clause[ -[on] -[join] -[where] -[like] ] -limit"],fn:selectPluginFn}),jEliDB.plugins.jQl("truncate",{help:"",fn:truncatePluginFn}),jEliDB.plugins.jQl("update",{help:"",fn:updatePluginFn});var inUpdateProgress=0;_defaultRegistry("j-eli","$jProvideProvider","$controller")(new $controller),_defaultRegistry("j-eli","$jProvideProvider","$resolve")(new $resolverProvider),_defaultRegistry("j-eli","$jFilterProvider","json")(function(){return function(a){return JSON.stringify(a)}}),_defaultRegistry("j-eli","$jFilterProvider","uppercase")(function(){return function(a){return a.toUpperCase()}}),_defaultRegistry("j-eli","$jFilterProvider","lowercase")(function(){return function(a){return a.toLowerCase()}}),_defaultRegistry("j-eli","$jFilterProvider","number")(function(){return function(a){return Number(a)}}),defaultElementInitializer.prototype.value=function(){this.elem&&element(this.elem).val($modelSetterGetter(this.checker,this.$model))},defaultElementInitializer.prototype.html=function(){var a=$modelSetterGetter(this.checker,this.$model);a&&!$isEqual(this.lastProcessed,a)&&element(this.elem).html(a),this.lastProcessed=a},defaultElementInitializer.prototype.hide=function(){var a=$logicChecker(this.checker,this.$model);element(this.elem).addClass(a?"j-hide":"j-show").removeClass(a?"j-show":"j-hide")},defaultElementInitializer.prototype.show=function(){var a=$logicChecker(this.checker,this.$model);element(this.elem).addClass(a?"j-show":"j-hide").removeClass(a?"j-hide":"j-show")},defaultElementInitializer.prototype.checked=function(){var a=this.elem;$logicChecker(this.checker,this.$model)?a.setAttribute("checked","true"):a.removeAttribute("checked")},defaultElementInitializer.prototype.selected=function(){this.elem[$logicChecker(this.checker,this.$model)?"setAttribute":"removeAttribute"]("selected",!0)},defaultElementInitializer.prototype.disabled=function(){var a=this.elem;$logicChecker(this.checker,this.$model)?a.setAttribute("disabled","true"):a.removeAttribute("disabled")},defaultElementInitializer.prototype.style=defaultElementInitializer.prototype.class=function(){var a=element(this.elem),b=a.data(this.type).match(/\{(.*?)\}/),c=this;if(b){var d=b[1].split(",");domElementProvider.each(d,function(b,d){var e=d.split(":"),f=e[0],g=$logicChecker(e[1],c.$model);switch(c.type){case"class":a[g?"addClass":"removeClass"](removeSingleQuote(f));break;case"style":a[0].style[f]=g}})}else{var e=maskedEval(this.checker,this.$model),f=this.lastAddedClass;$isEqual(c.type,"class")&&(e?(a.removeClass(f),a.addClass(e),f||(this.lastAddedClass=e)):f&&a.removeClass(f))}},defaultElementInitializer.prototype.if=function(){maskedEval(this.checker,this.$model)&&this.checker?this.isProcessed||(this.elem=element(this.cloneNode.cloneNode(!0)).data({ignoreProcess:["if"]})[0],this.parentNode.insertBefore($templateCompiler(this.elem)(this.$model),this.cENode),this.isProcessed=!0):this.isProcessed&&(element(this.elem).remove(),this.isProcessed=!1)};var $hashKey=0;defaultElementInitializer.prototype.for=defaultElementInitializer.prototype.do=function(){var a=this.checker.split(" in "),b=/(?:orderBy|where|sortBy):/gi;if(a.length>1){var c,d=$removeWhiteSpace(a[1]),e=d.split(b),f=d.match(b),g=e.shift(),h=$modelSetterGetter(g,this.$model)||maskedEval(g),i=this.cloneNode,j=this.parentNode,k=[],l=this,m=null,n=i.getAttribute("while"),o=function(a,b){var d=l.$model.$new();return d[c]=a,m&&(d[m]=isNaN(Number(b))?b:Number(b)),d},p=function(){var b=$removeWhiteSpace(a[0]).split(/\W/g);b.length>1&&(b.pop(),b.shift(),m=b.shift()),c=b.pop(),e.length&&(h=s())},q=function(){return($isObject(h)?Object.keys(h):h||[]).length},r=function(a,b){var c=element(i.cloneNode(!0)).data({ignoreProcess:[b]})[0];j.insertBefore(c,l.cENode),$templateCompiler(c)(a),k.push(c),$observeElement(c,a.$mId)},s=function(){var a=f[0].split(":")[0];switch(a.toLowerCase()){case"orderby":return h[e.pop()]();default:return t(a)}},t=function(a){return new $query(h)[a].apply(null,e.pop().split(","))},u=q();if(h&&!$isEqual(this.isProcessed,u)){p(),removeCacheElement(this.cache),$isEqual(this.type,"do")&&(n?h=new $query(h).where(n):errorBuilder("jDo requires while condition to function"));for(var v in h){var w=o(h[v],v);r(w,this.type)}this.cache=k}this.isProcessed=u}},defaultElementInitializer.prototype.href=defaultElementInitializer.prototype.src=function(){if(this.type&&this.elem){var a=$logicChecker(this.checker,this.$model);!$isEqual(a,this.lastProcessed||this.checker)&&a&&(this.elem.setAttribute(this.type,a),this.lastProcessed=a)}},defaultElementInitializer.prototype.include=function(){function a(a){removeCacheElement(d.cache);var b=toDOM.call(d.cloneNode.outerHTML);d.parentNode.insertBefore(b,d.cENode),element(b).html(a),transverseTemplate(b)(d.$model,d.ref),d.cache=[b]}var b=this.checker.indexOf("/")>-1?this.checker:$modelSetterGetter(this.checker,this.$model),c=findInProvider("$templateCache"),d=this;$isUndefined(b)||($isFunction(b)&&(b=b()),$isEqual(b,this.lastProcessed)||$http.get(b).then(function(d){$isString(d.data)&&(c.put(b,d.data),a(d.data))})),this.lastProcessed=b},defaultElementInitializer.prototype.model=function(){if(this.canSetValue){var a=$modelSetterGetter(this.checker,this.$model),b=$typeOfValue(this.elem);$isEqual(a,b)||(this.elem.value=a||"",this.isProcessed=!1)}},$d.prototype={execute:function(a,b){var c=this[a].length,d=this[a];for(b=Array.prototype.slice.call(b);c--;)d[c].apply(null,b);this.$$state.pending=!1,this.$$state.value=b,this.$$state.resolvedWith=a,this._processComplete||(this._processComplete=function(c,d){$isEqual(c,a)&&d.apply(null,b)})},resolve:function(){this.execute("_done",arguments)},reject:function(){this.execute("_fail",arguments)},done:function(a){this._processComplete&&this._processComplete("_done",a),this._done.push(a)},fail:function(a){this._processComplete&&this._processComplete("_fail",a),this._fail.push(a)}},$p.prototype={then:function(a,b){return this.pending.push({resolve:a,reject:b||function(){}}),this.$$ProcessComplete&&this.$$ProcessComplete(),this},complete:function(a,b){for(;this.pending[0];)this.pending.shift()[a](b),this.$$state.pending=!1,this.$$state.value=b,this.$$state.resolvedWith=a;this.$$ProcessComplete||(this.$$ProcessComplete=function(){this.complete(a,b)})},all:function(a){function b(a,b){return function(c){i[a]=c,b&&++h,--f||g[h?"reject":"resolve"](i)}}for(var c=[].slice,d=1==arguments.length&&$isArray(a)?a:c.call(arguments),e=d.length,f=e,g=new $p,h=0,i=[],j=0;j<e;j++){var k=d[j];k.$$state?k.then(b(j),b(j,1)):b(j)(k)}return g}},$http.get=function(a,b,c){var d={};return d.type="get",d.data=b,d.headers=c||{},ajax(a,d)},$http.post=function(a,b,c){var d={};return d.type="post",d.data=b,d.headers=c||{},ajax(a,d)},$publicProviders={$http:$http,$defer:$p,$q:$d,$cookie:$cookie,$jCompiler:$templateCompiler,$rootModel:new $modelGenerator,$document:jQueryResolver(document),$window:jQueryResolver(window),$timeout:$timeout,$rootElement:null,$localStorage:$localStorage,$sessionStorage:$sessionStorage,$injector:new $dependencyInjector,Base64:Base64Fn};var __a=function(){},objectCreate=function(){function a(){}var b=Object.prototype.hasOwnProperty;return function(c){if(Object.create)return Object.create(c);if("object"!=typeof c)throw TypeError("Object prototype may only be an Object or null");a.prototype=c;var d=new a;if(a.prototype=null,arguments.length>1){var e=Object(arguments[1]);for(var f in e)b.call(e,f)&&(d[f]=e[f])}return d}}(),BuildVersion=function(a,b){var c=b.split("."),d={dot:0,major:1,minor:2};for(var e in d)c[d[e]]?d[e]=parseInt(c[d[e]]):d[e]=0;return d.name=a,d};__a.prototype={constructor:__a,jModule:$jModule,dom:window.jQuery?jQuery:element,$cookie:$cookie,noop:function(){return noop},$extend:extend,$isUndefined:$isUndefined,$isDefined:$isDefined,$isObject:$isObject,$isString:$isString,$isNumber:$isNumber,$isArray:$isArray,$inArray:$inArray,$deleteIndex:deleteAndReStructure,$isFunction:$isFunction,$create:objectCreate,$copy:copy,$isEmpty:$isEmpty,$isEqual:$isEqual,$initializer:$eliInitializer,$parseJSON:parseJSON,$parseXML:parseXML,$serialize:serialize,$unSerialize:unSerialize,$externalLoader:new loadExternalScript,$stringToObject:stringToObject,$isJsonString:$isJsonString,$isNull:$isNull,$jDB:jEliDB,$jEncrypt:$encrypt,version:BuildVersion("Elizabeth","0.10.0"),bind:binding,forEach:domElementProvider.each,jObserver:jObserver,jEvents:$CustomEventHandler,buildTime:Date.now()},$isSupport.sqlite&&(__a.prototype.jSqlite=sqliteStorage),window.jEli=new __a,element(document).ready(function(){$isDomLoaded=!0;var a=element("[j-module]");if(!$isUndefined(a)&&a.length){var b=[a.attr("j-module")];$eliInitializer(a,b)}});var jEliStyles=document.createElement("style");jEliStyles.setAttribute("type","text/css");var css='.j-hide,.j-cloak{display:none} .j-show{display:""} ';jEliStyles.styleSheet?jEliStyles.styleSheet.cssText=css:jEliStyles.appendChild(document.createTextNode(css)),document.getElementsByTagName("head")[0].appendChild(jEliStyles);})();